(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},ml={};var w_;function fA(){if(w_)return ml;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var R_;function dA(){return R_||(R_=1,Rd.exports=fA()),Rd.exports}var q=dA(),Id={exports:{}},Tt={};var I_;function mA(){if(I_)return Tt;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,$={};function ft(x,Q,et){this.props=x,this.context=Q,this.refs=$,this.updater=et||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},ft.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function gt(x,Q,et){this.props=x,this.context=Q,this.refs=$,this.updater=et||J}var Bt=gt.prototype=new Et;Bt.constructor=gt,it(Bt,ft.prototype),Bt.isPureReactComponent=!0;var Xt=Array.isArray;function Vt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,Q,et){var st=et.ref;return{$$typeof:r,type:x,key:Q,ref:st!==void 0?st:null,props:et}}function V(x,Q){return R(x.type,Q,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function N(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Q[et]})}var S=/\/+/g;function nt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):Q.toString(36)}function lt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Vt,Vt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,Q,et,st,_t){var wt=typeof x;(wt==="undefined"||wt==="boolean")&&(x=null);var Lt=!1;if(x===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(x.$$typeof){case r:case t:Lt=!0;break;case A:return Lt=x._init,H(Lt(x._payload),Q,et,st,_t)}}if(Lt)return _t=_t(x),Lt=st===""?"."+nt(x,0):st,Xt(_t)?(et="",Lt!=null&&(et=Lt.replace(S,"$&/")+"/"),H(_t,Q,et,"",function(sr){return sr})):_t!=null&&(O(_t)&&(_t=V(_t,et+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(S,"$&/")+"/")+Lt)),Q.push(_t)),1;Lt=0;var Ce=st===""?".":st+":";if(Xt(x))for(var se=0;se<x.length;se++)st=x[se],wt=Ce+nt(st,se),Lt+=H(st,Q,et,wt,_t);else if(se=G(x),typeof se=="function")for(x=se.call(x),se=0;!(st=x.next()).done;)st=st.value,wt=Ce+nt(st,se++),Lt+=H(st,Q,et,wt,_t);else if(wt==="object"){if(typeof x.then=="function")return H(lt(x),Q,et,st,_t);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function W(x,Q,et){if(x==null)return x;var st=[],_t=0;return H(x,st,"","",function(wt){return Q.call(et,wt,_t++)}),st}function ut(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var Ut=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},qt={map:W,forEach:function(x,Q,et){W(x,function(){Q.apply(this,arguments)},et)},count:function(x){var Q=0;return W(x,function(){Q++}),Q},toArray:function(x){return W(x,function(Q){return Q})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Tt.Activity=w,Tt.Children=qt,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Tt.cache=function(x){return function(){return x.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(x,Q,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=it({},x.props),_t=x.key;if(Q!=null)for(wt in Q.key!==void 0&&(_t=""+Q.key),Q)!b.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(st[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)st.children=et;else if(1<wt){for(var Lt=Array(wt),Ce=0;Ce<wt;Ce++)Lt[Ce]=arguments[Ce+2];st.children=Lt}return R(x.type,_t,st)},Tt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Tt.createElement=function(x,Q,et){var st,_t={},wt=null;if(Q!=null)for(st in Q.key!==void 0&&(wt=""+Q.key),Q)b.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Q[st]);var Lt=arguments.length-2;if(Lt===1)_t.children=et;else if(1<Lt){for(var Ce=Array(Lt),se=0;se<Lt;se++)Ce[se]=arguments[se+2];_t.children=Ce}if(x&&x.defaultProps)for(st in Lt=x.defaultProps,Lt)_t[st]===void 0&&(_t[st]=Lt[st]);return R(x,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(x){return{$$typeof:p,render:x}},Tt.isValidElement=O,Tt.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:ut}},Tt.memo=function(x,Q){return{$$typeof:y,type:x,compare:Q===void 0?null:Q}},Tt.startTransition=function(x){var Q=C.T,et={};C.T=et;try{var st=x(),_t=C.S;_t!==null&&_t(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Vt,Ut)}catch(wt){Ut(wt)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),C.T=Q}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(x){return C.H.use(x)},Tt.useActionState=function(x,Q,et){return C.H.useActionState(x,Q,et)},Tt.useCallback=function(x,Q){return C.H.useCallback(x,Q)},Tt.useContext=function(x){return C.H.useContext(x)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(x,Q){return C.H.useDeferredValue(x,Q)},Tt.useEffect=function(x,Q){return C.H.useEffect(x,Q)},Tt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(x,Q,et){return C.H.useImperativeHandle(x,Q,et)},Tt.useInsertionEffect=function(x,Q){return C.H.useInsertionEffect(x,Q)},Tt.useLayoutEffect=function(x,Q){return C.H.useLayoutEffect(x,Q)},Tt.useMemo=function(x,Q){return C.H.useMemo(x,Q)},Tt.useOptimistic=function(x,Q){return C.H.useOptimistic(x,Q)},Tt.useReducer=function(x,Q,et){return C.H.useReducer(x,Q,et)},Tt.useRef=function(x){return C.H.useRef(x)},Tt.useState=function(x){return C.H.useState(x)},Tt.useSyncExternalStore=function(x,Q,et){return C.H.useSyncExternalStore(x,Q,et)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.0",Tt}var C_;function ym(){return C_||(C_=1,Id.exports=mA()),Id.exports}var ke=ym(),Cd={exports:{}},gl={},Nd={exports:{}},Dd={};var N_;function gA(){return N_||(N_=1,(function(r){function t(H,W){var ut=H.length;H.push(W);t:for(;0<ut;){var Ut=ut-1>>>1,qt=H[Ut];if(0<l(qt,W))H[Ut]=W,H[ut]=qt,ut=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],ut=H.pop();if(ut!==W){H[0]=ut;t:for(var Ut=0,qt=H.length,x=qt>>>1;Ut<x;){var Q=2*(Ut+1)-1,et=H[Q],st=Q+1,_t=H[st];if(0>l(et,ut))st<qt&&0>l(_t,et)?(H[Ut]=_t,H[st]=ut,Ut=st):(H[Ut]=et,H[Q]=ut,Ut=Q);else if(st<qt&&0>l(_t,ut))H[Ut]=_t,H[st]=ut,Ut=st;else break t}}return W}function l(H,W){var ut=H.sortIndex-W.sortIndex;return ut!==0?ut:H.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,w=null,M=3,G=!1,J=!1,it=!1,$=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=H)a(y),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(y)}}function Xt(H){if(it=!1,Bt(H),!J)if(i(_)!==null)J=!0,Vt||(Vt=!0,N());else{var W=i(y);W!==null&&lt(Xt,W.startTime-H)}}var Vt=!1,C=-1,b=5,R=-1;function V(){return $?!0:!(r.unstable_now()-R<b)}function O(){if($=!1,Vt){var H=r.unstable_now();R=H;var W=!0;try{t:{J=!1,it&&(it=!1,Et(C),C=-1),G=!0;var ut=M;try{e:{for(Bt(H),w=i(_);w!==null&&!(w.expirationTime>H&&V());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,M=w.priorityLevel;var qt=Ut(w.expirationTime<=H);if(H=r.unstable_now(),typeof qt=="function"){w.callback=qt,Bt(H),W=!0;break e}w===i(_)&&a(_),Bt(H)}else a(_);w=i(_)}if(w!==null)W=!0;else{var x=i(y);x!==null&&lt(Xt,x.startTime-H),W=!1}}break t}finally{w=null,M=ut,G=!1}W=void 0}}finally{W?N():Vt=!1}}}var N;if(typeof gt=="function")N=function(){gt(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,nt=S.port2;S.port1.onmessage=O,N=function(){nt.postMessage(null)}}else N=function(){ft(O,0)};function lt(H,W){C=ft(function(){H(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var ut=M;M=W;try{return H()}finally{M=ut}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return W()}finally{M=ut}},r.unstable_scheduleCallback=function(H,W,ut){var Ut=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ut+ut:Ut):ut=Ut,H){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ut+qt,H={id:A++,callback:W,priorityLevel:H,startTime:ut,expirationTime:qt,sortIndex:-1},ut>Ut?(H.sortIndex=ut,t(y,H),i(_)===null&&H===i(y)&&(it?(Et(C),C=-1):it=!0,lt(Xt,ut-Ut))):(H.sortIndex=qt,t(_,H),J||G||(J=!0,Vt||(Vt=!0,N()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var W=M;return function(){var ut=M;M=W;try{return H.apply(this,arguments)}finally{M=ut}}}})(Dd)),Dd}var D_;function pA(){return D_||(D_=1,Nd.exports=gA()),Nd.exports}var Od={exports:{}},Ye={};var O_;function yA(){if(O_)return Ye;O_=1;var r=ym();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ye.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var x_;function _A(){if(x_)return Od.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=yA(),Od.exports}var M_;function vA(){if(M_)return gl;M_=1;var r=pA(),t=ym(),i=_A();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case $:return"StrictMode";case Xt:return"Suspense";case Vt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:nt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return nt(e(n))}catch{}}return null}var lt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ut=[],qt=-1;function x(e){return{current:e}}function Q(e){0>qt||(e.current=Ut[qt],Ut[qt]=null,qt--)}function et(e,n){qt++,Ut[qt]=e.current,e.current=n}var st=x(null),_t=x(null),wt=x(null),Lt=x(null);function Ce(e,n){switch(et(wt,n),et(_t,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),et(st,e)}function se(){Q(st),Q(_t),Q(wt)}function sr(e){e.memoizedState!==null&&et(Lt,e);var n=st.current,s=Xy(n,e.type);n!==s&&(et(_t,e),et(st,s))}function Yr(e){_t.current===e&&(Q(st),Q(_t)),Lt.current===e&&(Q(Lt),cl._currentValue=ut)}var Kr,Xr;function Jn(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Xr}var uo=!1;function rr(e,n){if(!e||uo)return"";uo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return Jn("Activity");default:return""}}function ho(e){try{var n="",s=null;do n+=co(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Kl=r.unstable_requestPaint,$e=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,mo=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Ch=r.unstable_LowPriority,Xl=r.unstable_IdlePriority,Zl=r.log,Jl=r.unstable_setDisableYieldValue,Pn=null,Pe=null;function Sn(e){if(typeof Zl=="function"&&Jl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,e)}catch{}}var he=Math.clz32?Math.clz32:Wl,$l=Math.log,Zr=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-($l(e)/Zr|0)|0}var $n=256,or=262144,ye=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-he(s),K=1<<F;E[F]=0,I[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}s&=~K}o!==0&&ur(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function go(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function po(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function jn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Me="__reactProps$"+Bn,ni="__reactContainer$"+Bn,Jr="__reactEvents$"+Bn,Oh="__reactListeners$"+Bn,nu="__reactHandles$"+Bn,iu="__reactResources$"+Bn,ii="__reactMarker$"+Bn;function $r(e){delete e[_e],delete e[Me],delete e[Jr],delete e[Oh],delete e[nu]}function si(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=n_(e);e!==null;){if(s=e[_e])return s;e=n_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[_e]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ri(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ii]=!0}var yo=new Set,_o={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function su(e){return pe.call(To,e)?!0:pe.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function Wr(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=os(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=os(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function nn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,Ve(n)):s!=null?So(e,g,Ve(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function ru(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function So(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ls(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function us(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(lt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Ro=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,ui=null;function dr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hr(o)}break t;case"textarea":au(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ls(e,!!s.multiple,n,!1)}}}var ia=!1;function fs(e,n,s){if(ia)return e(n,s);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(hs!==null||ui!==null)&&(ec(),hs&&(n=hs,e=ui,ui=hs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{mr=!1}var ci=null,Io=null,gr=null;function Co(){if(gr)return gr;var e,n=Io,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return gr=h.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Gn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Gn,this.isPropagationStopped=Gn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(xi),ds=w({},xi,{view:0,detail:0}),No=ze(ds),ms,sa,fi,ra=w({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(ms=e.screenX-fi.screenX,sa=e.screenY-fi.screenY):sa=ms=0,fi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Do=ze(ra),yr=w({},ra,{dataTransfer:0}),uu=ze(yr),cu=w({},ds,{relatedTarget:0}),_r=ze(cu),Oo=w({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=ze(Oo),aa=w({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=ze(aa),du=w({},xi,{data:0}),di=ze(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function gs(){return yu}var We=w({},ds,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=ze(We),vu=w({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(vu),u=w({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=ze(u),v=w({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),k=w({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(k),tt=w({},xi,{newState:0,oldState:0}),St=ze(tt),fe=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,re=null;Rn&&"documentMode"in document&&(re=document.documentMode);var In=Rn&&"TextEvent"in window&&!re,mi=Rn&&(!Ht||re&&8<re&&11>=re),Fn=" ",Qn=!1;function vr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function kT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function LT(e,n){if(la)return e==="compositionend"||!Ht&&vr(e,n)?(e=Co(),gr=Io=ci=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function ag(e,n,s,o){hs?ui?ui.push(o):ui=[o]:hs=o,n=lc(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xo=null,Mo=null;function zT(e){qy(e,0)}function Eu(e){var n=fn(e);if(hr(n))return e}function og(e,n){if(e==="change")return n}var lg=!1;if(Rn){var xh;if(Rn){var Mh="oninput"in document;if(!Mh){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),Mh=typeof ug.oninput=="function"}xh=Mh}else xh=!1;lg=xh&&(!document.documentMode||9<document.documentMode)}function cg(){xo&&(xo.detachEvent("onpropertychange",hg),Mo=xo=null)}function hg(e){if(e.propertyName==="value"&&Eu(Mo)){var n=[];ag(n,Mo,e,wn(e)),fs(zT,n)}}function jT(e,n,s){e==="focusin"?(cg(),xo=n,Mo=s,xo.attachEvent("onpropertychange",hg)):e==="focusout"&&cg()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Mo)}function qT(e,n){if(e==="click")return Eu(n)}function HT(e,n){if(e==="input"||e==="change")return Eu(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:GT;function Vo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,n){var s=fg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=fg(s)}}function mg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=Rn&&"documentMode"in document&&11>=document.documentMode,ua=null,Uh=null,Uo=null,kh=!1;function pg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kh||ua==null||ua!==li(o)||(o=ua,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Vo(Uo,o)||(Uo=o,o=lc(Uh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ua)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Lh={},yg={};Rn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Tr(e){if(Lh[e])return Lh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in yg)return Lh[e]=n[s];return e}var _g=Tr("animationend"),vg=Tr("animationiteration"),Eg=Tr("animationstart"),QT=Tr("transitionrun"),YT=Tr("transitionstart"),KT=Tr("transitioncancel"),Tg=Tr("transitionend"),Ag=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Yn(e,n){Ag.set(e,n),ai(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ha=0,zh=0;function Au(){for(var e=ha,n=zh=ha=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Sg(s,h,f)}}function Su(e,n,s,o){Cn[ha++]=e,Cn[ha++]=n,Cn[ha++]=s,Cn[ha++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,s,o){return Su(e,n,s,o),bu(e)}function Ar(e,n){return Su(e,null,null,n),bu(e)}function Sg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<il)throw il=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function XT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new XT(e,n,s,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function bg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=tA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,s,n,h),e.elementType=R,e.lanes=f,e;case it:return Sr(s.children,h,f,n);case $:g=8,h|=24;break;case ft:return e=gn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case Xt:return e=gn(13,s,n,h),e.elementType=Xt,e.lanes=f,e;case Vt:return e=gn(19,s,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Et:g=9;break t;case Bt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Sr(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function qh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function wg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Rg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ho(n)},Rg.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var da=[],ma=0,Ru=null,ko=0,Dn=[],On=0,ps=null,gi=1,pi="";function Ui(e,n){da[ma++]=ko,da[ma++]=Ru,Ru=e,ko=n}function Ig(e,n,s){Dn[On++]=gi,Dn[On++]=pi,Dn[On++]=ps,ps=e;var o=gi;e=pi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-he(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function Gh(e){e.return!==null&&(Ui(e,1),Ig(e,1,0))}function Fh(e){for(;e===Ru;)Ru=da[--ma],da[ma]=null,ko=da[--ma],da[ma]=null;for(;e===ps;)ps=Dn[--On],Dn[On]=null,pi=Dn[--On],Dn[On]=null,gi=Dn[--On],Dn[On]=null}function Cg(e,n){Dn[On++]=gi,Dn[On++]=pi,Dn[On++]=ps,gi=n.id,pi=n.overflow,ps=e}var je=null,ee=null,kt=!1,ys=null,xn=!1,Qh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Nn(n,e)),Qh}function Ng(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Me]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)Ct(rl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ru(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),us(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Qy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_s(e,!0)}function Dg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:je=je.return}}function ga(e){if(e!==je)return!1;if(!kt)return Dg(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&ee&&_s(e),Dg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=e_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=e_(e)}else n===27?(n=ee,xs(e.type)?(e=pd,pd=null,ee=e):ee=n):ee=je?Vn(e.stateNode.nextSibling):null;return!0}function br(){ee=je=null,kt=!1}function Yh(){var e=ys;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ys=null),e}function Lo(e){ys===null?ys=[e]:ys.push(e)}var Kh=x(null),wr=null,ki=null;function vs(e,n,s){et(Kh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Kh.current,Q(Kh)}function Xh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Xh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Xh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Zh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Og(wr,e)}function Cu(e,n){return wr===null&&Rr(e),Og(e,n)}function Og(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},JT=r.unstable_scheduleCallback,$T=r.unstable_NormalPriority,Te={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new ZT,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&JT($T,function(){e.controller.abort()})}var zo=null,$h=0,ya=0,_a=null;function WT(e,n){if(zo===null){var s=zo=[];$h=0,ya=nd(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return $h++,n.then(xg,xg),n}function xg(){if(--$h===0&&zo!==null){_a!==null&&(_a.status="fulfilled");var e=zo;zo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Mg=H.S;H.S=function(e,n){py=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),Mg!==null&&Mg(e,n)};var Ir=x(null);function Wh(){var e=Ir.current;return e!==null?e:te.pooledCache}function Nu(e,n){n===null?et(Ir,Ir.current):et(Ir,n.pool)}function Vg(){var e=Wh();return e===null?null:{parent:Te._currentValue,pool:e}}var va=Error(a(460)),tf=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e}throw Nr=n,va}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,va):s}}var Nr=null;function Lg(){if(Nr===null)throw Error(a(459));var e=Nr;return Nr=null,e}function Pg(e){if(e===va||e===Du)throw Error(a(483))}var Ea=null,jo=0;function xu(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),kg(Ea,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zg(e){function n(U,D){if(e){var L=U.deletions;L===null?(U.deletions=[D],U.flags|=16):L.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Vi(U,D),U.index=0,U.sibling=null,U}function f(U,D,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<D?(U.flags|=67108866,D):L):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,L,Y){return D===null||D.tag!==6?(D=qh(L,U.mode,Y),D.return=U,D):(D=h(D,L),D.return=U,D)}function I(U,D,L,Y){var ht=L.type;return ht===it?F(U,D,L.props.children,Y,L.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Cr(ht)===D.type)?(D=h(D,L.props),Bo(D,L),D.return=U,D):(D=wu(L.type,L.key,L.props,null,U.mode,Y),Bo(D,L),D.return=U,D)}function P(U,D,L,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Hh(L,U.mode,Y),D.return=U,D):(D=h(D,L.children||[]),D.return=U,D)}function F(U,D,L,Y,ht){return D===null||D.tag!==7?(D=Sr(L,U.mode,Y,ht),D.return=U,D):(D=h(D,L),D.return=U,D)}function K(U,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qh(""+D,U.mode,L),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return L=wu(D.type,D.key,D.props,null,U.mode,L),Bo(L,D),L.return=U,L;case J:return D=Hh(D,U.mode,L),D.return=U,D;case b:return D=Cr(D),K(U,D,L)}if(lt(D)||N(D))return D=Sr(D,U.mode,L,null),D.return=U,D;if(typeof D.then=="function")return K(U,xu(D),L);if(D.$$typeof===gt)return K(U,Cu(U,D),L);Mu(U,D)}return null}function z(U,D,L,Y){var ht=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(U,D,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ht?I(U,D,L,Y):null;case J:return L.key===ht?P(U,D,L,Y):null;case b:return L=Cr(L),z(U,D,L,Y)}if(lt(L)||N(L))return ht!==null?null:F(U,D,L,Y,null);if(typeof L.then=="function")return z(U,D,xu(L),Y);if(L.$$typeof===gt)return z(U,D,Cu(U,L),Y);Mu(U,L)}return null}function B(U,D,L,Y,ht){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(L)||null,E(D,U,""+Y,ht);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return U=U.get(Y.key===null?L:Y.key)||null,I(D,U,Y,ht);case J:return U=U.get(Y.key===null?L:Y.key)||null,P(D,U,Y,ht);case b:return Y=Cr(Y),B(U,D,L,Y,ht)}if(lt(Y)||N(Y))return U=U.get(L)||null,F(D,U,Y,ht,null);if(typeof Y.then=="function")return B(U,D,L,xu(Y),ht);if(Y.$$typeof===gt)return B(U,D,L,Cu(D,Y),ht);Mu(D,Y)}return null}function at(U,D,L,Y){for(var ht=null,zt=null,ot=D,Rt=D=0,Dt=null;ot!==null&&Rt<L.length;Rt++){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var jt=z(U,ot,L[Rt],Y);if(jt===null){ot===null&&(ot=Dt);break}e&&ot&&jt.alternate===null&&n(U,ot),D=f(jt,D,Rt),zt===null?ht=jt:zt.sibling=jt,zt=jt,ot=Dt}if(Rt===L.length)return s(U,ot),kt&&Ui(U,Rt),ht;if(ot===null){for(;Rt<L.length;Rt++)ot=K(U,L[Rt],Y),ot!==null&&(D=f(ot,D,Rt),zt===null?ht=ot:zt.sibling=ot,zt=ot);return kt&&Ui(U,Rt),ht}for(ot=o(ot);Rt<L.length;Rt++)Dt=B(ot,U,Rt,L[Rt],Y),Dt!==null&&(e&&Dt.alternate!==null&&ot.delete(Dt.key===null?Rt:Dt.key),D=f(Dt,D,Rt),zt===null?ht=Dt:zt.sibling=Dt,zt=Dt);return e&&ot.forEach(function(Ls){return n(U,Ls)}),kt&&Ui(U,Rt),ht}function mt(U,D,L,Y){if(L==null)throw Error(a(151));for(var ht=null,zt=null,ot=D,Rt=D=0,Dt=null,jt=L.next();ot!==null&&!jt.done;Rt++,jt=L.next()){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var Ls=z(U,ot,jt.value,Y);if(Ls===null){ot===null&&(ot=Dt);break}e&&ot&&Ls.alternate===null&&n(U,ot),D=f(Ls,D,Rt),zt===null?ht=Ls:zt.sibling=Ls,zt=Ls,ot=Dt}if(jt.done)return s(U,ot),kt&&Ui(U,Rt),ht;if(ot===null){for(;!jt.done;Rt++,jt=L.next())jt=K(U,jt.value,Y),jt!==null&&(D=f(jt,D,Rt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return kt&&Ui(U,Rt),ht}for(ot=o(ot);!jt.done;Rt++,jt=L.next())jt=B(ot,U,Rt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ot.delete(jt.key===null?Rt:jt.key),D=f(jt,D,Rt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&ot.forEach(function(hA){return n(U,hA)}),kt&&Ui(U,Rt),ht}function Wt(U,D,L,Y){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var ht=L.key;D!==null;){if(D.key===ht){if(ht=L.type,ht===it){if(D.tag===7){s(U,D.sibling),Y=h(D,L.props.children),Y.return=U,U=Y;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Cr(ht)===D.type){s(U,D.sibling),Y=h(D,L.props),Bo(Y,L),Y.return=U,U=Y;break t}s(U,D);break}else n(U,D);D=D.sibling}L.type===it?(Y=Sr(L.props.children,U.mode,Y,L.key),Y.return=U,U=Y):(Y=wu(L.type,L.key,L.props,null,U.mode,Y),Bo(Y,L),Y.return=U,U=Y)}return g(U);case J:t:{for(ht=L.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(U,D.sibling),Y=h(D,L.children||[]),Y.return=U,U=Y;break t}else{s(U,D);break}else n(U,D);D=D.sibling}Y=Hh(L,U.mode,Y),Y.return=U,U=Y}return g(U);case b:return L=Cr(L),Wt(U,D,L,Y)}if(lt(L))return at(U,D,L,Y);if(N(L)){if(ht=N(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),mt(U,D,L,Y)}if(typeof L.then=="function")return Wt(U,D,xu(L),Y);if(L.$$typeof===gt)return Wt(U,D,Cu(U,L),Y);Mu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(U,D.sibling),Y=h(D,L),Y.return=U,U=Y):(s(U,D),Y=qh(L,U.mode,Y),Y.return=U,U=Y),g(U)):s(U,D)}return function(U,D,L,Y){try{jo=0;var ht=Wt(U,D,L,Y);return Ea=null,ht}catch(ot){if(ot===va||ot===Du)throw ot;var zt=gn(29,ot,null,U.mode);return zt.lanes=Y,zt.return=U,zt}finally{}}}var Dr=zg(!0),jg=zg(!1),Es=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bu(e),Sg(e,null,s),n}return Su(e,o,n,s),bu(e)}function qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}function sf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var rf=!1;function Ho(){if(rf){var e=_a;if(e!==null)throw e}}function Go(e,n,s,o){rf=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,F=P=I=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Nt&z)===z:(o&z)===z){z!==0&&z===ya&&(rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;z=n;var Wt=s;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){K=at.call(Wt,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,z=typeof at=="function"?at.call(Wt,K,z):at,z==null)break t;K=w({},K,z);break t;case 2:Es=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=B,I=K):F=F.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(I=K),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Is|=g,e.lanes=g,e.memoizedState=K}}function Bg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function qg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Bg(s[e],n)}var Ta=x(null),Vu=x(0);function Hg(e,n){e=Qi,et(Vu,e),et(Ta,n),Qi=e|n.baseLanes}function af(){et(Vu,Qi),et(Ta,Ta.current)}function of(){Qi=Vu.current,Q(Ta),Q(Vu)}var pn=x(null),Mn=null;function Ss(e){var n=e.alternate;et(de,de.current&1),et(pn,e),Mn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Mn=e)}function lf(e){et(de,de.current),et(pn,e),Mn===null&&(Mn=e)}function Gg(e){e.tag===22?(et(de,de.current),et(pn,e),Mn===null&&(Mn=e)):bs()}function bs(){et(de,de.current),et(pn,pn.current)}function yn(e){Q(pn),Mn===e&&(Mn=null),Q(de)}var de=x(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||md(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,bt=null,Jt=null,Ae=null,ku=!1,Aa=!1,Or=!1,Lu=0,Fo=0,Sa=null,e1=0;function ue(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function cf(e,n,s,o,h,f){return Pi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ip:wf,Or=!1,f=s(o,h),Or=!1,Aa&&(f=Qg(n,s,o,h)),Fg(e),f}function Fg(e){H.H=Ko;var n=Jt!==null&&Jt.next!==null;if(Pi=0,Ae=Jt=bt=null,ku=!1,Fo=0,Sa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Iu(e)&&(Se=!0))}function Qg(e,n,s,o){bt=e;var h=0;do{if(Aa&&(Sa=null),Fo=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Cp,f=n(s,o)}while(Aa);return f}function n1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),n}function hf(){var e=Lu!==0;return Lu=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Pi=0,Ae=Jt=bt=null,Aa=!1,Fo=Lu=0,Sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Fo;return Fo+=1,Sa===null&&(Sa=[]),e=kg(Sa,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ip:wf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===gt)return Be(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=me();return gf(n,Jt,e)}function gf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Nt&K)===K:(Pi&K)===K){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===ya&&(F=!0);else if((Pi&z)===z){P=P.next,z===ya&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=K,g=f):I=I.next=K,bt.lanes|=z,Is|=z;K=P.action,Or&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,bt.lanes|=K,Is|=K;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!mn(f,e.memoizedState)&&(Se=!0,F&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Yg(e,n,s){var o=bt,h=me(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!mn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,vf(Zg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},Xg.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(Pi&127)!==0||Kg(o,n,s)}return s}function Kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Pu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Xg(e,n,s,o){n.value=s,n.getSnapshot=o,Jg(n)&&$g(e)}function Zg(e,n,s){return s(function(){Jg(n)&&$g(e)})}function Jg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function $g(e){var n=Ar(e,2);n!==null&&un(n,e,2)}function yf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Or){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function Wg(e,n,s,o){return e.baseState=s,gf(e,Jt,typeof o=="function"?o:zi)}function i1(e,n,s,o,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,tp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function tp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),I=H.S;I!==null&&I(g,E),ep(e,n,E)}catch(P){_f(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),ep(e,n,f)}catch(P){_f(e,n,P)}}function ep(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){np(e,n,o)},function(o){return _f(e,n,o)}):np(e,n,s)}function np(e,n,s){n.status="fulfilled",n.value=s,ip(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,tp(e,s)))}function _f(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ip(n),n=n.next;while(n!==o)}e.action=null}function ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sp(e,n){return n}function rp(e,n){if(kt){var s=te.formState;if(s!==null){t:{var o=bt;if(kt){if(ee){e:{for(var h=ee,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Vn(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:n},s.queue=o,s=bp.bind(null,bt,o),o.dispatch=s,o=yf(!1),f=bf.bind(null,bt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=i1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function ap(e){var n=me();return op(n,Jt,e)}function op(e,n,s){if(n=gf(e,n,sp)[0],e=ju(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===va?Du:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,ba(9,{destroy:void 0},s1.bind(null,h,s),null)),[o,f,e]}function s1(e,n){e.action=n}function lp(e){var n=me(),s=Jt;if(s!==null)return op(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ba(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Pu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function up(){return me().memoizedState}function Bu(e,n,s,o){var h=tn();bt.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function qu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&uf(o,Jt.memoizedState.deps)?h.memoizedState=ba(n,f,s,o):(bt.flags|=e,h.memoizedState=ba(1|n,f,s,o))}function cp(e,n){Bu(8390656,8,e,n)}function vf(e,n){qu(2048,8,e,n)}function r1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Pu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function hp(e){var n=me().memoizedState;return r1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function fp(e,n){return qu(4,2,e,n)}function dp(e,n){return qu(4,4,e,n)}function mp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gp(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,mp.bind(null,n,e),s)}function Ef(){}function pp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function yp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Or){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function Tf(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=_y(),bt.lanes|=e,Is|=e,s)}function _p(e,n,s,o){return mn(s,n)?s:Ta.current!==null?(e=Tf(e,s,o),mn(e,n)||(Se=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Nt&261930)===0?(Se=!0,e.memoizedState=s):(e=_y(),bt.lanes|=e,Is|=e,n)}function vp(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,bf(e,!1,n,s);try{var I=h(),P=H.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=t1(I,o);Yo(e,n,F,En(e))}else Yo(e,n,o,En(e))}catch(K){Yo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function a1(){}function Af(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ep(e).queue;vp(e,h,n,ut,s===null?a1:function(){return Tp(e),s(o)})}function Ep(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tp(e){var n=Ep(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},En())}function Sf(){return Be(cl)}function Ap(){return me().memoizedState}function Sp(){return me().memoizedState}function o1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Ts(s);var o=As(n,e,s);o!==null&&(un(o,n,s),qo(o,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function l1(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(e)?wp(n,s):(s=jh(e,n,s,o),s!==null&&(un(s,e,o),Rp(s,n,o)))}function bp(e,n,s){var o=En();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))wp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Su(e,n,h,0),te===null&&Au(),!1}catch{}finally{}if(s=jh(e,n,h,o),s!==null)return un(s,e,o),Rp(s,n,o),!0}return!1}function bf(e,n,s,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=jh(e,s,o,2),n!==null&&un(n,e,2)}function Hu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function wp(e,n){Aa=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Rp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}var Ko={readContext:Be,use:zu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Ko.useEffectEvent=ue;var Ip={readContext:Be,use:zu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:cp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Bu(4194308,4,mp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Or){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Or){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,s=bp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(e,n){var s=tn();return Tf(s,e,n)},useTransition:function(){var e=yf(!1);return e=vp.bind(null,bt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=tn();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Nt&127)!==0||Kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,cp(Zg.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},Xg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=te.identifierPrefix;if(kt){var s=pi,o=gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:rp,useActionState:rp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return tn().memoizedState=o1.bind(null,bt)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},wf={readContext:Be,use:zu,useCallback:pp,useContext:Be,useEffect:vf,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:ju,useRef:up,useState:function(){return ju(zi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=me();return _p(s,Jt.memoizedState,e,n)},useTransition:function(){var e=ju(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Yg,useId:Ap,useHostTransitionStatus:Sf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var s=me();return Wg(s,Jt,e,n)},useMemoCache:mf,useCacheRefresh:Sp};wf.useEffectEvent=hp;var Cp={readContext:Be,use:zu,useCallback:pp,useContext:Be,useEffect:vf,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:pf,useRef:up,useState:function(){return pf(zi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=me();return Jt===null?Tf(s,e,n):_p(s,Jt.memoizedState,e,n)},useTransition:function(){var e=pf(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Yg,useId:Ap,useHostTransitionStatus:Sf,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var s=me();return Jt!==null?Wg(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Sp};Cp.useEffectEvent=hp;function Rf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var If={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=Ts(o);h.payload=n,s!=null&&(h.callback=s),n=As(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=Ts(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=As(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=Ts(s);o.tag=2,n!=null&&(o.callback=n),n=As(e,o,s),n!==null&&(un(n,e,s),qo(n,e,s))}};function Np(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(s,o)||!Vo(h,f):!0}function Dp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function xr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Op(e){Tu(e)}function xp(e){console.error(e)}function Mp(e){Tu(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function Up(e){return e=Ts(e),e.tag=3,e}function kp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Vp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Vp(n,s,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function u1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?nc():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Wf(e,o,h)),!1}throw Error(a(435,s.tag))}return Wf(e,o,h),nc(),!1}if(kt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(a(422),{cause:o}),Lo(Nn(e,s)))):(o!==Qh&&(n=Error(a(423),{cause:o}),Lo(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=Cf(e.stateNode,o,h),sf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),nl===null?nl=[f]:nl.push(f),ce!==4&&(ce=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,o,e),sf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Up(h),kp(h,e,s,o),sf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?jg(n,null,s,o):Dr(n,e.child,s,o)}function Lp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Rr(n),o=cf(e,n,s,g,f,h),E=hf(),e!==null&&!Se?(ff(e,n,h),ji(e,n,h)):(kt&&E&&Gh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Pp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,zp(e,n,f,o,h)):(e=wu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vo,s(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function zp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Df(e,n,s,o,h)}function jp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Bp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Hg(n,f):af(),Gg(n);else return o=n.lanes=536870912,Bp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),Hg(n,f),bs(),n.memoizedState=null):(e!==null&&Nu(n,null),af(),bs());return qe(e,n,h,s),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(e,n,s,o,h){var f=Wh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),af(),Gg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qp(e,n,s){return Dr(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function c1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,Xo(null,e);if(lf(n),(e=ee)?(e=t_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=wg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=qp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||pa(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=te,o!==null&&(g=po(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ar(e,g),un(o,e,g),Nf;nc(),n=qp(e,n,s)}else e=f.treeContext,ee=Vn(g.nextSibling),je=n,kt=!0,ys=null,xn=!1,e!==null&&Cg(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,o,h){return Rr(n),s=cf(e,n,s,o,void 0,h),o=hf(),e!==null&&!Se?(ff(e,n,h),ji(e,n,h)):(kt&&o&&Gh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Hp(e,n,s,o,h,f){return Rr(n),n.updateQueue=null,s=Qg(n,o,s,h),Fg(e),o=hf(),e!==null&&!Se?(ff(e,n,f),ji(e,n,f)):(kt&&o&&Gh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Gp(e,n,s,o,h){if(Rr(n),n.stateNode===null){var f=fa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):fa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Rf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=xr(s,E);f.props=I;var P=f.context,F=s.contextType;g=fa,typeof F=="object"&&F!==null&&(g=Be(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Dp(n,f,o,g),Es=!1;var z=n.memoizedState;f.state=z,Go(n,o,f,h),Ho(),P=n.memoizedState,E||z!==P||Es?(typeof K=="function"&&(Rf(n,s,K,o),P=n.memoizedState),(I=Es||Np(n,s,I,o,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),g=n.memoizedProps,F=xr(s,g),f.props=F,K=n.pendingProps,z=f.context,P=s.contextType,I=fa,typeof P=="object"&&P!==null&&(I=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==I)&&Dp(n,f,o,I),Es=!1,z=n.memoizedState,f.state=z,Go(n,o,f,h),Ho();var B=n.memoizedState;g!==K||z!==B||Es||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Rf(n,s,E,o),B=n.memoizedState),(F=Es||Np(n,s,F,o,z,B,I)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Fp(e,n,s,o){return br(),n.flags|=256,qe(e,n,s,o),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Vg()}}function Mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Qp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ss(n):bs(),(e=ee)?(e=t_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=wg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw _s(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Sr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Mf(e,g,s),n.memoizedState=Of,Xo(null,o)):(Ss(n),Vf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Sr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Dr(n,e.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Mf(e,g,s),n.memoizedState=Of,n=Xo(null,o));else if(Ss(n),gd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Uf(e,n,s)}else if(Se||pa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=te,g!==null&&(o=po(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ar(e,o),un(g,e,o),Nf;md(E)||nc(),n=Uf(e,n,s)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=Vn(E.nextSibling),je=n,kt=!0,ys=null,xn=!1,e!==null&&Cg(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Vi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Vi(P,E):(E=Sr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(I=Te._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Vg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Mf(e,g,s),n.memoizedState=Of,Xo(e.child,o)):(Ss(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Vf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Dr(n,e.child,null,s),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,s)}function kf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(de,g),qe(e,n,o,s),o=kt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,s,n);else if(e.tag===19)Yp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),kf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}kf(n,!0,s,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function h1(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),vs(n,Te,e.memoizedState.cache),br();break;case 27:case 5:sr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Qp(e,n,s):(Ss(n),e=ji(e,n,s),e!==null?e.sibling:null);Ss(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,jp(e,n,s,n.pendingProps);case 24:vs(n,Te,e.memoizedState.cache)}return ji(e,n,s)}function Xp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return Se=!1,h1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,kt&&(n.flags&1048576)!==0&&Ig(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=xr(e,o),n.tag=1,n=Gp(null,n,e,o,s)):(n.tag=0,n=Df(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=Lp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Pp(null,n,e,o,s);break t}}throw n=nt(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=xr(o,n.pendingProps),Gp(e,n,o,h,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Go(n,o,null,s);var g=n.memoizedState;if(o=g.cache,vs(n,Te,o),o!==f.cache&&Zh(n,[Te],s,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),Lo(h),n=Fp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Vn(e.firstChild),je=n,kt=!0,ys=null,xn=!0,s=jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(br(),o===h){n=ji(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Qu(e,n),e===null?(s=a_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=uc(wt.current).createElement(s),o[_e]=n,o[Me]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=a_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&kt&&(o=n.stateNode=i_(n.type,n.pendingProps,wt.current),je=n,xn=!0,h=ee,xs(n.type)?(pd=h,ee=Vn(o.firstChild)):ee=h),qe(e,n,n.pendingProps.children,s),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ee)&&(o=B1(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,je=n,ee=Vn(o.firstChild),xn=!1,h=!0):h=!1),h||_s(n)),sr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:g!==null&&hd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,n1,null,null,s),cl._currentValue=h),Qu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ee)&&(s=q1(s,n.pendingProps,xn),s!==null?(n.stateNode=s,je=n,ee=null,e=!0):e=!1),e||_s(n)),null;case 13:return Qp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Dr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Lp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,vs(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,s);case 15:return zp(e,n,n.type,n.pendingProps,s);case 19:return Kp(e,n,s);case 31:return c1(e,n,s);case 22:return jp(e,n,s,n.pendingProps);case 24:return Rr(n),o=Be(Te),e===null?(h=Wh(),h===null&&(h=te,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},ef(n),vs(n,Te,h)):((e.lanes&s)!==0&&(nf(e,n),Go(n,null,null,s),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,Te,o)):(o=f.cache,vs(n,Te,o),o!==h.cache&&Zh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Pf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ay())e.flags|=8192;else throw Nr=Ou,tf}else e.flags&=-16777217}function Zp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!h_(n))if(Ay())e.flags|=8192;else throw Nr=Ou,tf}function Ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Ca|=n)}function Zo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function f1(e,n,s){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ne(n),Zp(n,f)):(ne(n),Pf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),ne(n),Zp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ne(n),Pf(n,h,e,o,s)),null;case 27:if(Yr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=st.current,ga(n)?Ng(n):(e=i_(h,o,s),n.stateNode=e,Bi(n))}return ne(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=st.current,ga(n))Ng(n);else{var g=uc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ne(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Qy(e.nodeValue,s)),e||_s(n,!0)}else e=uc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ku(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&ad(n.stateNode.containerInfo),ne(n),null;case 10:return Li(n.type),ne(n),null;case 19:if(Q(de),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Ku(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)bg(s,e),s=s.sibling;return et(de,de.current&1|2),kt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Wu&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ku(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ne(n),null}else 2*$e()-o.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=de.current,et(de,h?s&1|2:s&1),kt&&Ui(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return yn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Ku(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Ir),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(de),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),of(),e!==null&&Q(Ir),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Te),null;case 25:return null;default:return null}}function Jp(e,n){switch(Fh(n),n.tag){case 3:Li(Te),se();break;case 26:case 27:case 5:Yr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Q(de);break;case 10:Li(n.type);break;case 22:case 23:yn(n),of(),e!==null&&Q(Ir);break;case 24:Li(Te)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function ws(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,P=E;try{P()}catch(F){Kt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Kt(n,n.return,F)}}function $p(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{qg(n,s)}catch(o){Kt(e,e.return,o)}}}function Wp(e,n,s){s.props=xr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function $o(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function ty(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function zf(e,n,s){try{var o=e.stateNode;U1(o,e.type,s,n),o[Me]=n}catch(h){Kt(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,s),e=e.sibling;e!==null;)Bf(e,n,s),e=e.sibling}function Xu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function ny(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[Me]=s}catch(f){Kt(e,e.return,f)}}var qi=!1,be=!1,qf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function m1(e,n){if(e=e.containerInfo,ud=pc,e=gg(e),Vh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,P=0,F=0,K=e,z=null;e:for(;;){for(var B;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(I=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++F===o&&(I=g),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:e,selectionRange:s},pc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=xr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function sy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),o&4&&Jo(5,s);break;case 1:if(Gi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=xr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&$p(s),o&512&&$o(s,s.return);break;case 3:if(Gi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{qg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&ny(s);case 26:case 5:Gi(e,s),n===null&&o&4&&ty(s),o&512&&$o(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),o&4&&oy(e,s);break;case 13:Gi(e,s),o&4&&ly(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=S1.bind(null,s),H1(e,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||be,h=qi;var f=be;qi=o,(be=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),qi=h,be=f}break;case 30:break;default:Gi(e,s)}}function ry(e){var n=e.alternate;n!==null&&(e.alternate=null,ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Hi(e,n,s){for(s=s.child;s!==null;)ay(e,n,s),s=s.sibling}function ay(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:be||yi(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||yi(s,n);var o=ae,h=rn;xs(s.type)&&(ae=s.stateNode,rn=!1),Hi(e,n,s),ol(s.stateNode),ae=o,rn=h;break;case 5:be||yi(s,n);case 6:if(o=ae,h=rn,ae=null,Hi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ka(e)):$y(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Hi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:ws(2,s,n),be||ws(4,s,n),Hi(e,n,s);break;case 1:be||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Wp(s,n,o)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Hi(e,n,s),be=o;break;default:Hi(e,n,s)}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(s){Kt(n,n.return,s)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(s){Kt(n,n.return,s)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var s=g1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=b1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ay(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)uy(n,e),n=n.sibling}var Kn=null;function uy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(ws(3,e,e.return),Jo(3,e),ws(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=u_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=u_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else c_(h,e.type,e.stateNode);else e.stateNode=l_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?c_(h,e.type,e.stateNode):l_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),s!==null&&o&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(fc=null,h=Kn,Kn=cc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(at){Kt(e,e.return,at)}qf&&(qf=!1,cy(e));break;case 4:o=Kn,Kn=cc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($u=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=qi,F=be;if(qi=P||h,be=F||I,an(n,e),be=F,qi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||qi||be||Mr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Kt(I,I.return,at)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Kt(I,I.return,at)}}}else if(n.tag===18){if(s===null){I=n;try{var B=I.stateNode;h?Wy(B,!0):Wy(I.stateNode,!1)}catch(at){Kt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ey(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=jf(e);Xu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=jf(e);Xu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,P=jf(e);Bf(e,P,I);break;default:throw Error(a(161))}}catch(F){Kt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Mr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Mr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Wp(n,n.return,s),Mr(n);break;case 27:ol(n.stateNode);case 26:case 5:yi(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),Jo(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Bg(I[h],E)}catch(P){Kt(o,o.return,P)}}s&&g&64&&$p(f),$o(f,f.return);break;case 27:ny(f);case 26:case 5:Fi(h,f,s),s&&o===null&&g&4&&ty(f),$o(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&g&4&&oy(h,f);break;case 13:Fi(h,f,s),s&&g&4&&ly(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),$o(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function Hf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Po(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Xn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,s,o),n=n.sibling}function hy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,o),h&2048&&Jo(9,n);break;case 1:Xn(e,n,s,o);break;case 3:Xn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Xn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Xn(e,n,s,o);break;case 31:Xn(e,n,s,o);break;case 13:Xn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,o):Wo(e,n):f._visibility&2?Xn(e,n,s,o):(f._visibility|=2,wa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:Xn(e,n,s,o),h&2048&&Gf(n.alternate,n);break;default:Xn(e,n,s,o)}}function wa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,I,h),Jo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?wa(f,g,E,I,h):Wo(f,g):(F._visibility|=2,wa(f,g,E,I,h)),h&&P&2048&&Hf(g.alternate,g);break;case 24:wa(f,g,E,I,h),h&&P&2048&&Gf(g.alternate,g);break;default:wa(f,g,E,I,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(s,o),h&2048&&Hf(o.alternate,o);break;case 24:Wo(s,o),h&2048&&Gf(o.alternate,o);break;default:Wo(s,o)}n=n.sibling}}var tl=8192;function Ra(e,n,s){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)fy(e,n,s),e=e.sibling}function fy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&tl&&e.memoizedState!==null&&eA(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Kn;Kn=cc(e.stateNode.containerInfo),Ra(e,n,s),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ra(e,n,s),tl=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,gy(o,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&ws(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):el(e);break;default:el(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,gy(o,e)}dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function gy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(ry(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var p1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,It=null,Nt=0,Yt=0,_n=null,Rs=!1,Ia=!1,Ff=!1,Qi=0,ce=0,Is=0,Vr=0,Qf=0,vn=0,Ca=0,nl=null,ln=null,Yf=!1,$u=0,py=0,Wu=1/0,tc=null,Cs=null,De=0,Ns=null,Na=null,Yi=0,Kf=0,Xf=null,yy=null,il=0,Zf=null;function En(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:H.T!==null?nd():eu()}function _y(){if(vn===0)if((Nt&536870912)===0||kt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Ds(e,Nt,vn,!1)),lr(e,s),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(Vr|=s),ce===4&&Ds(e,Nt,vn,!1)),_i(e))}function vy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?E1(e,n):$f(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Ds(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){h=$f(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=nl;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,g).flags|=256),g=$f(E,g,!1),g!==2){if(Ff&&!I){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Ds(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,vn,!Rs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-$e(),10<h)){if(Ds(o,n,vn,!Rs),ti(o,0,!0)!==0)break t;Yi=n,o.timeoutHandle=Zy(Ey.bind(null,o,s,ln,tc,Yf,n,vn,Vr,Ca,Rs,f,"Throttled",-0,0),h);break t}Ey(o,s,ln,tc,Yf,n,vn,Vr,Ca,Rs,f,null,-0,0)}}break}while(!0);_i(e)}function Ey(e,n,s,o,h,f,g,E,I,P,F,K,z,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},fy(n,f,K);var at=(f&62914560)===f?$u-$e():(f&4194048)===f?py-$e():0;if(at=nA(K,at),at!==null){Yi=f,e.cancelPendingCommit=at(Cy.bind(null,e,n,f,s,o,h,g,E,I,F,K,null,z,B)),Ds(e,f,g,!P);return}}Cy(e,n,f,s,o,h,g,E,I)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(e,n,s,o){n&=~Qf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ur(e,s,n)}function ec(){return(Gt&6)===0?(sl(0),!1):!0}function Jf(){if(It!==null){if(Yt===0)var e=It.return;else e=It,ki=wr=null,df(e),Ea=null,jo=0,e=It;for(;e!==null;)Jp(e.alternate,e),e=e.return;It=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Jf(),te=e,It=s=Vi(e.current,null),Nt=n,Yt=0,_n=null,Rs=!1,Ia=zn(e,n),Ff=!1,Ca=vn=Qf=Vr=Is=ce=0,ln=nl=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Au(),s}function Ty(e,n){bt=null,H.H=Ko,n===va||n===Du?(n=Lg(),Yt=3):n===tf?(n=Lg(),Yt=4):Yt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(ce=1,Gu(e,Nn(n,e.current)))}function Ay(){var e=pn.current;return e===null?!0:(Nt&4194048)===Nt?Mn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Mn:!1}function Sy(){var e=H.H;return H.H=Ko,e===null?Ko:e}function by(){var e=H.A;return H.A=p1,e}function nc(){ce=4,Rs||(Nt&4194048)!==Nt&&pn.current!==null||(Ia=!0),(Is&134217727)===0&&(Vr&134217727)===0||te===null||Ds(te,Nt,vn,!1)}function $f(e,n,s){var o=Gt;Gt|=2;var h=Sy(),f=by();(te!==e||Nt!==n)&&(tc=null,Da(e,n)),n=!1;var g=ce;t:do try{if(Yt!==0&&It!==null){var E=It,I=_n;switch(Yt){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Yt;if(Yt=0,_n=null,Oa(e,E,I,P),s&&Ia){g=0;break t}break;default:P=Yt,Yt=0,_n=null,Oa(e,E,I,P)}}v1(),g=ce;break}catch(F){Ty(e,F)}while(!0);return n&&e.shellSuspendCounter++,ki=wr=null,Gt=o,H.H=h,H.A=f,It===null&&(te=null,Nt=0,Au()),g}function v1(){for(;It!==null;)wy(It)}function E1(e,n){var s=Gt;Gt|=2;var o=Sy(),h=by();te!==e||Nt!==n?(tc=null,Wu=$e()+500,Da(e,n)):Ia=zn(e,n);t:do try{if(Yt!==0&&It!==null){n=It;var f=_n;e:switch(Yt){case 1:Yt=0,_n=null,Oa(e,n,f,1);break;case 2:case 9:if(Ug(f)){Yt=0,_n=null,Ry(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),_i(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ug(f)?(Yt=0,_n=null,Ry(n)):(Yt=0,_n=null,Oa(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?h_(g):E.stateNode.complete){Yt=0,_n=null;var I=E.sibling;if(I!==null)It=I;else{var P=E.return;P!==null?(It=P,ic(P)):It=null}break e}}Yt=0,_n=null,Oa(e,n,f,5);break;case 6:Yt=0,_n=null,Oa(e,n,f,6);break;case 8:Jf(),ce=6;break t;default:throw Error(a(462))}}T1();break}catch(F){Ty(e,F)}while(!0);return ki=wr=null,H.H=o,H.A=h,Gt=s,It!==null?0:(te=null,Nt=0,Au(),ce)}function T1(){for(;It!==null&&!Ih();)wy(It)}function wy(e){var n=Xp(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function Ry(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Hp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Hp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:df(n);default:Jp(s,n),n=It=bg(n,Qi),n=Xp(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function Oa(e,n,s,o){ki=wr=null,df(n),Ea=null,jo=0;var h=n.return;try{if(u1(e,h,n,s,Nt)){ce=1,Gu(e,Nn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,Gu(e,Nn(s,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Ia||(Nt&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Iy(n,Rs);return}e=n.return;var s=f1(n.alternate,n,Qi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function Iy(e,n){do{var s=d1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ce=6,It=null}function Cy(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do sc();while(De!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(e,s,f,g,E,I),e===te&&(It=te=null,Nt=0),Na=n,Ns=e,Yi=s,Kf=f,Xf=h,yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(as,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=Gt,Gt|=4;try{m1(e,n,s)}finally{Gt=g,W.p=h,H.T=o}}De=1,Ny(),Dy(),Oy()}}function Ny(){if(De===1){De=0;var e=Ns,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=Gt;Gt|=4;try{uy(n,e);var f=cd,g=gg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&mg(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),at=E.textContent.length,mt=Math.min(I.start,at),Wt=I.end===void 0?mt:Math.min(I.end,at);!B.extend&&mt>Wt&&(g=Wt,Wt=mt,mt=g);var U=dg(E,mt),D=dg(E,Wt);if(U&&D&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var L=K.createRange();L.setStart(U.node,U.offset),B.removeAllRanges(),mt>Wt?(B.addRange(L),B.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}pc=!!ud,cd=ud=null}finally{Gt=h,W.p=o,H.T=s}}e.current=n,De=2}}function Dy(){if(De===2){De=0;var e=Ns,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=Gt;Gt|=4;try{sy(e,n.alternate,n)}finally{Gt=h,W.p=o,H.T=s}}De=3}}function Oy(){if(De===4||De===3){De=0,Kl();var e=Ns,n=Na,s=Yi,o=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Na=Ns=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Di(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Yi&3)!==0&&sc(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?il++:(il=0,Zf=e):il=0,sl(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function sc(){return Ny(),Dy(),Oy(),My()}function My(){if(De!==5)return!1;var e=Ns,n=Kf;Kf=0;var s=Di(Yi),o=H.T,h=W.p;try{W.p=32>s?32:s,H.T=null,s=Xf,Xf=null;var f=Ns,g=Yi;if(De=0,Na=Ns=null,Yi=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,my(f.current),hy(f,f.current,g,s),Gt=E,sl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{W.p=h,H.T=o,xy(e,n)}}function Vy(e,n,s){n=Nn(s,n),n=Cf(e.stateNode,n,2),e=As(e,n,2),e!==null&&(lr(e,2),_i(e))}function Kt(e,n,s){if(e.tag===3)Vy(e,e,s);else for(;n!==null;){if(n.tag===3){Vy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=Nn(s,e),s=Up(2),o=As(n,s,2),o!==null&&(kp(s,o,n,e),lr(o,2),_i(o));break}}n=n.return}}function Wf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Ff=!0,h.add(s),e=A1.bind(null,e,n,s),n.then(e,e))}function A1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>$e()-$u?(Gt&2)===0&&Da(e,0):Qf|=s,Ca===Nt&&(Ca=0)),_i(e)}function Uy(e,n){n===0&&(n=tu()),e=Ar(e,n),e!==null&&(lr(e,n),_i(e))}function S1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Uy(e,s)}function b1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,s)}function w1(e,n){return Ne(e,n)}var rc=null,xa=null,td=!1,ac=!1,ed=!1,Os=0;function _i(e){e!==xa&&e.next===null&&(xa===null?rc=xa=e:xa=xa.next=e),ac=!0,td||(td=!0,I1())}function sl(e,n){if(!ed&&ac){ed=!0;do for(var s=!1,o=rc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,zy(o,f))}else f=Nt,f=ti(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,zy(o,f));o=o.next}while(s);ed=!1}}function R1(){ky()}function ky(){ac=td=!1;var e=0;Os!==0&&L1()&&(e=Os);for(var n=$e(),s=null,o=rc;o!==null;){var h=o.next,f=Ly(o,n);f===0?(o.next=null,s===null?rc=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}De!==0&&De!==5||sl(e),Os!==0&&(Os=0)}function Ly(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Nh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Nt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&rs(o),Di(s)){case 2:case 8:s=mo;break;case 32:s=as;break;case 268435456:s=Xl;break;default:s=as}return o=Py.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&rs(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var o=Nt;return o=ti(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(vy(e,o,n),Ly(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Py.bind(null,e):null)}function zy(e,n){if(sc())return null;vy(e,n,!0)}function I1(){z1(function(){(Gt&6)!==0?Ne(fo,R1):ky()})}function nd(){if(Os===0){var e=ya;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Os=e}return Os}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function By(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function C1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=jy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var I=g?By(h,g):new FormData(h);Af(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?By(h,g):new FormData(h),Af(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],N1=sd.toLowerCase(),D1=sd[0].toUpperCase()+sd.slice(1);Yn(N1,"on"+D1)}Yn(_g,"onAnimationEnd"),Yn(vg,"onAnimationIteration"),Yn(Eg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(QT,"onTransitionRun"),Yn(YT,"onTransitionStart"),Yn(KT,"onTransitionCancel"),Yn(Tg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Tu(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Tu(F)}h.currentTarget=null,f=I}}}}function Ct(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Hy(n,e,2,!1),s.add(o))}function rd(e,n,s){var o=0;n&&(o|=4),Hy(s,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[oc]){e[oc]=!0,yo.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,rd("selectionchange",!1,n))}}function Hy(e,n,s,o){switch(__(n)){case 2:var h=rA;break;case 8:h=aA;break;default:h=Td}s=h.bind(null,n,s,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}fs(function(){var P=f,F=wn(s),K=[];t:{var z=Ag.get(e);if(z!==void 0){var B=hi,at=e;switch(e){case"keypress":if(pr(s)===0)break t;case"keydown":case"keyup":B=_u;break;case"focusin":at="focus",B=_r;break;case"focusout":at="blur",B=_r;break;case"beforeblur":case"afterblur":B=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case _g:case vg:case Eg:B=hu;break;case Tg:B=T;break;case"scroll":case"scrollend":B=No;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Mi;break;case"toggle":case"beforetoggle":B=St}var mt=(n&4)!==0,Wt=!mt&&(e==="scroll"||e==="scrollend"),U=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=P,L;D!==null;){var Y=D;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||U===null||(Y=Hn(D,U),Y!=null&&mt.push(al(D,Y,L))),Wt)break;D=D.return}0<mt.length&&(z=new B(z,at,null,s,F),K.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==Ro&&(at=s.relatedTarget||s.fromElement)&&(si(at)||at[ni]))break t;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(at=s.relatedTarget||s.toElement,B=P,at=at?si(at):null,at!==null&&(Wt=c(at),mt=at.tag,at!==Wt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(B=null,at=P),B!==at)){if(mt=Do,Y="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Mi,Y="onPointerLeave",U="onPointerEnter",D="pointer"),Wt=B==null?z:fn(B),L=at==null?z:fn(at),z=new mt(Y,D+"leave",B,s,F),z.target=Wt,z.relatedTarget=L,Y=null,si(F)===P&&(mt=new mt(U,D+"enter",at,s,F),mt.target=L,mt.relatedTarget=Wt,Y=mt),Wt=Y,B&&at)e:{for(mt=x1,U=B,D=at,L=0,Y=U;Y;Y=mt(Y))L++;Y=0;for(var ht=D;ht;ht=mt(ht))Y++;for(;0<L-Y;)U=mt(U),L--;for(;0<Y-L;)D=mt(D),Y--;for(;L--;){if(U===D||D!==null&&U===D.alternate){mt=U;break e}U=mt(U),D=mt(D)}mt=null}else mt=null;B!==null&&Gy(K,z,B,mt,!1),at!==null&&Wt!==null&&Gy(K,Wt,at,mt,!0)}}t:{if(z=P?fn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var zt=og;else if(rg(z))if(lg)zt=HT;else{zt=BT;var ot=jT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ea(P.elementType)&&(zt=og):zt=qT;if(zt&&(zt=zt(e,P))){ag(K,zt,s,F);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&So(z,"number",z.value)}switch(ot=P?fn(P):window,e){case"focusin":(rg(ot)||ot.contentEditable==="true")&&(ua=ot,Uh=P,Uo=null);break;case"focusout":Uo=Uh=ua=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,pg(K,s,F);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":pg(K,s,F)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else la?vr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(mi&&s.locale!=="ko"&&(la||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&la&&(Rt=Co()):(ci=F,Io="value"in ci?ci.value:ci.textContent,la=!0)),ot=lc(P,Dt),0<ot.length&&(Dt=new di(Dt,e,null,s,F),K.push({event:Dt,listeners:ot}),Rt?Dt.data=Rt:(Rt=oa(s),Rt!==null&&(Dt.data=Rt)))),(Rt=In?kT(e,s):LT(e,s))&&(Dt=lc(P,"onBeforeInput"),0<Dt.length&&(ot=new di("onBeforeInput","beforeinput",null,s,F),K.push({event:ot,listeners:Dt}),ot.data=Rt)),C1(K,e,P,s,F)}qy(K,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&o.unshift(al(e,h,f)),h=Hn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function x1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Hn(s,f),P!=null&&g.unshift(al(s,P,I))):h||(P=Hn(s,f),P!=null&&g.push(al(s,P,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var M1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(M1,`
`).replace(V1,"")}function Qy(e,n){return n=Fy(n),Fy(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lu.get(s)||s,Wr(e,s,o))}}function ld(e,n,s,o,h,f){switch(s){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Wr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:$t(e,n,o,F,s,null)}}ru(e,f,E,I,P,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ls(e,!!o,n,!1):s!=null&&ls(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,s,null)}us(e,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,I,o,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Ct(rl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,P,o,s,null)}return;default:if(ea(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ld(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function U1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,F=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(B)||$t(e,n,B,null,o,K)}}for(var z in o){var B=o[z];if(K=s[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":F=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==K&&$t(e,n,z,B,o,K)}}ta(e,g,E,I,P,F,f,h);return;case"select":B=g=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&$t(e,n,h,f,o,I)}n=E,s=g,o=B,z!=null?ls(e,!!s,z,!1):!!o!=!!s&&(n!=null?ls(e,!!s,n,!0):ls(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,o,f)}au(e,z,B);return;case"option":for(var at in s)if(z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:$t(e,n,at,null,o,z)}for(I in o)if(z=o[I],B=s[I],o.hasOwnProperty(I)&&z!==B&&(z!=null||B!=null))switch(I){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$t(e,n,I,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&$t(e,n,mt,null,o,z);for(P in o)if(z=o[P],B=s[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:$t(e,n,P,z,o,B)}return;default:if(ea(n)){for(var Wt in s)z=s[Wt],s.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&ld(e,n,Wt,void 0,o,z);for(F in o)z=o[F],B=s[F],!o.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||ld(e,n,F,z,o,B);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&$t(e,n,U,null,o,z);for(K in o)z=o[K],B=s[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||$t(e,n,K,z,o,B)}function Yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Yy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var F=I.transferSize,K=I.initiatorType;F&&Yy(K)&&(I=I.responseEnd,g+=F*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(j1)}:Zy;function j1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function $y(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ol(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ol(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ol(e.ownerDocument.body);s=h}while(s);ka(n)}function Wy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),$r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function t_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function e_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function n_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function i_(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$r(e)}var Un=new Map,s_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=W.d;W.d={f:G1,r:F1,D:Q1,C:Y1,L:K1,m:X1,X:J1,S:Z1,M:$1};function G1(){var e=Ki.f(),n=ec();return e||n}function F1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Tp(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function r_(e,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function Q1(e){Ki.D(e),r_("dns-prefetch",e,null)}function Y1(e,n){Ki.C(e,n),r_("preconnect",e,n)}function K1(e,n,s){Ki.L(e,n,s);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=Ua(e)}Un.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function X1(e,n){Ki.m(e,n);var s=Ma;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Un.has(f)&&(e=w({rel:"modulepreload",href:e},n),Un.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function Z1(e,n,s){Ki.S(e,n,s);var o=Ma;if(o&&e){var h=ri(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ll(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(f))&&yd(e,s);var I=g=o.createElement("link");ve(I),He(I,"link",e),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function J1(e,n){Ki.X(e,n);var s=Ma;if(s&&e){var o=ri(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=w({src:e,async:!0},n),(n=Un.get(h))&&_d(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $1(e,n){Ki.M(e,n);var s=Ma;if(s&&e){var o=ri(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&_d(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function a_(e,n,s,o){var h=(h=wt.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=ri(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ll(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),f||W1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function o_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function Ua(e){return'[src="'+nn(e)+'"]'}function ul(e){return"script[async]"+e}function l_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),hc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=o_(s),(h=Un.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),n.state.loading|=4,hc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(ul(f)))?(n.instance=h,ve(h),h):(o=s,(h=Un.get(f))&&(o=w({},s),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,s.precedence,e));return n.instance}function hc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function u_(e,n,s){if(fc===null){var o=new Map,h=fc=new Map;h.set(s,o)}else h=fc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function c_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function tA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=o_(o),(h=Un.get(h))&&yd(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var vd=0;function nA(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*k1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(iA,e),mc=null,dc.call(e))}function iA(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var o=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function sA(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function f_(e,n,s,o,h,f,g,E,I,P,F,K){return e=new sA(e,n,s,g,I,P,F,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},ef(f),e}function d_(e){return e?(e=fa,e):fa}function m_(e,n,s,o,h,f){h=d_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ts(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=As(e,o,n),s!==null&&(un(s,e,n),qo(s,e,n))}function g_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ed(e,n){g_(e,n),(e=e.alternate)&&g_(e,n)}function p_(e){if(e.tag===13||e.tag===31){var n=Ar(e,67108864);n!==null&&un(n,e,67108864),Ed(e,67108864)}}function y_(e){if(e.tag===13||e.tag===31){var n=En();n=cr(n);var s=Ar(e,n);s!==null&&un(s,e,n),Ed(e,n)}}var pc=!0;function rA(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,Td(e,n,s,o)}finally{W.p=f,H.T=h}}function aA(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,Td(e,n,s,o)}finally{W.p=f,H.T=h}}function Td(e,n,s,o){if(pc){var h=Ad(o);if(h===null)od(e,n,o,yc,s),v_(e,o);else if(lA(h,e,n,s,o))o.stopPropagation();else if(v_(e,o),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-he(g);E.entanglements[1]|=I,g&=~I}_i(f),(Gt&6)===0&&(Wu=$e()+500,sl(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&un(E,f,2),ec(),Ed(f,2)}if(f=Ad(o),f===null&&od(e,n,o,yc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,s)}}function Ad(e){return e=wn(e),Sd(e)}var yc=null;function Sd(e){if(yc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case fo:return 2;case mo:return 8;case as:case Ch:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var bd=!1,Ms=null,Vs=null,Us=null,hl=new Map,fl=new Map,ks=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&p_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lA(e,n,s,o,h){switch(n){case"focusin":return Ms=dl(Ms,e,n,s,o,h),!0;case"dragenter":return Vs=dl(Vs,e,n,s,o,h),!0;case"mouseover":return Us=dl(Us,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,s,o,h)),!0}return!1}function E_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ro=o,s.target.dispatchEvent(o),Ro=null}else return n=bn(s),n!==null&&p_(n),e.blockedOn=s,!1;n.shift()}return!0}function T_(e,n,s){_c(e)&&s.delete(n)}function uA(){bd=!1,Ms!==null&&_c(Ms)&&(Ms=null),Vs!==null&&_c(Vs)&&(Vs=null),Us!==null&&_c(Us)&&(Us=null),hl.forEach(T_),fl.forEach(T_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uA)))}var Ec=null;function A_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ka(e){function n(I){return vc(I,e)}Ms!==null&&vc(Ms,e),Vs!==null&&vc(Vs,e),Us!==null&&vc(Us,e),hl.forEach(n),fl.forEach(n);for(var s=0;s<ks.length;s++){var o=ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)E_(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||A_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(Sd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),A_(s)}}}function S_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}Tc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=En();m_(s,o,e,n,null,null)},Tc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;m_(e.current,2,null,e,null,null),ec(),n[ni]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ks.length&&n!==0&&n<ks[s].priority;s++);ks.splice(s,0,e),s===0&&E_(e)}};var b_=t.version;if(b_!=="19.2.0")throw Error(a(527,b_,"19.2.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Pn=Ac.inject(cA),Pe=Ac}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Op,f=xp,g=Mp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=f_(e,1,!1,null,null,s,o,null,h,f,g,S_),e[ni]=n.current,ad(e),new wd(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Op,g=xp,E=Mp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=f_(e,1,!0,n,s??null,o,h,I,f,g,E,S_),n.context=d_(null),s=n.current,o=En(),o=cr(o),h=Ts(o),h.callback=null,As(s,h,o),s=o,n.current.lanes=s,lr(n,s),_i(n),e[ni]=n.current,ad(e),new Tc(n)},gl.version="19.2.0",gl}var V_;function EA(){if(V_)return Cd.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=vA(),Cd.exports}var TA=EA();const AA=()=>{};var U_={};const u0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},SA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(M=64)),a.push(i[A],i[w],i[M],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(u0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):SA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new bA;const M=c<<2|p>>4;if(a.push(M),y!==64){const G=p<<4&240|y>>2;if(a.push(G),w!==64){const J=y<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(r){const t=u0(r);return c0.encodeByteArray(t,!0)},zc=function(r){return wA(r).replace(/\./g,"")},h0=function(r){try{return c0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IA=()=>RA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&h0(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return AA()||IA()||CA()||NA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},f0=r=>ah()?.emulatorHosts?.[r],DA=r=>{const t=f0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},d0=()=>ah()?.config,m0=r=>ah()?.[`_${r}`];class OA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g0(r){return(await fetch(r,{credentials:"include"})).ok}function xA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const Tl={};function MA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function VA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let k_=!1;function p0(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Tl[r]===t||Tl[r]||k_)return;Tl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=MA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{k_=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=VA(a),G=i("text"),J=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),$=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;p(gt),A($,it);const Bt=y();_(Et,ft),gt.append(Et,J,$,Bt),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function kA(){const r=ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BA(){return!kA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const GA="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=GA,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?FA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ss(l,p,a)}}function FA(r,t){return r.replace(QA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const QA=/\{\$([^}]+)}/g;function YA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Xs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(L_(c)&&L_(d)){if(!Xs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function L_(r){return r!==null&&typeof r=="object"}function kl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function KA(r,t){const i=new XA(r,t);return i.subscribe.bind(i)}class XA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function en(r){return r&&r._delegate?r._delegate:r}class Br{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class JA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new OA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WA(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$A(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(r){return r===Pr?void 0:r}function WA(r){return r.instantiationMode==="EAGER"}class tS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const eS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},nS=Ot.INFO,iS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},sS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=iS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=nS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const rS=(r,t)=>t.some(i=>r instanceof i);let P_,z_;function aS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y0=new WeakMap,Fd=new WeakMap,_0=new WeakMap,Md=new WeakMap,vm=new WeakMap;function lS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&y0.set(i,r)}).catch(()=>{}),vm.set(t,r),t}function uS(r){if(Fd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Fd.set(r,t)}let Qd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Fd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||_0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cS(r){Qd=r(Qd)}function hS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Vd(this),t,...i);return _0.set(a,t.sort?t.sort():[t]),Gs(a)}:oS().includes(r)?function(...t){return r.apply(Vd(this),t),Gs(y0.get(this))}:function(...t){return Gs(r.apply(Vd(this),t))}}function fS(r){return typeof r=="function"?hS(r):(r instanceof IDBTransaction&&uS(r),rS(r,aS())?new Proxy(r,Qd):r)}function Gs(r){if(r instanceof IDBRequest)return lS(r);if(Md.has(r))return Md.get(r);const t=fS(r);return t!==r&&(Md.set(r,t),vm.set(t,r)),t}const Vd=r=>vm.get(r);function dS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Gs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Gs(d.result),_.oldVersion,_.newVersion,Gs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Ud=new Map;function j_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=gS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||mS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ud.set(t,c),c}cS(r=>({...r,get:(t,i,a)=>j_(t,i)||r.get(t,i,a),has:(t,i)=>!!j_(t,i)||r.has(t,i)}));class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yS(r){return r.getComponent()?.type==="VERSION"}const Yd="@firebase/app",B_="0.14.6";const $i=new _m("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",AS="@firebase/app-check",SS="@firebase/auth",bS="@firebase/auth-compat",wS="@firebase/database",RS="@firebase/data-connect",IS="@firebase/database-compat",CS="@firebase/functions",NS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",xS="@firebase/messaging",MS="@firebase/messaging-compat",VS="@firebase/performance",US="@firebase/performance-compat",kS="@firebase/remote-config",LS="@firebase/remote-config-compat",PS="@firebase/storage",zS="@firebase/storage-compat",jS="@firebase/firestore",BS="@firebase/ai",qS="@firebase/firestore-compat",HS="firebase",GS="12.6.0";const Kd="[DEFAULT]",FS={[Yd]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[vS]:"fire-analytics-compat",[AS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[bS]:"fire-auth-compat",[wS]:"fire-rtdb",[RS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[CS]:"fire-fn",[NS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[xS]:"fire-fcm",[MS]:"fire-fcm-compat",[VS]:"fire-perf",[US]:"fire-perf-compat",[kS]:"fire-rc",[LS]:"fire-rc-compat",[PS]:"fire-gcs",[zS]:"fire-gcs-compat",[jS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};const jc=new Map,QS=new Map,Xd=new Map;function q_(r,t){try{r.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const t=r.name;if(Xd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Xd.set(t,r);for(const i of jc.values())q_(i,r);for(const i of QS.values())q_(i,r);return!0}function Em(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Ul("app","Firebase",YS);class KS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const io=GS;function v0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=d0()),!i)throw Fs.create("no-options");const c=jc.get(l);if(c){if(Xs(i,c.options)&&Xs(a,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new tS(l);for(const _ of Xd.values())d.addComponent(_);const p=new KS(i,a,d);return jc.set(l,p),p}function E0(r=Kd){const t=jc.get(r);if(!t&&r===Kd&&d0())return v0();if(!t)throw Fs.create("no-app",{appName:r});return t}function Qs(r,t,i){let a=FS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ya(new Br(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const XS="firebase-heartbeat-database",ZS=1,Il="firebase-heartbeat-store";let kd=null;function T0(){return kd||(kd=dS(XS,ZS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),kd}async function JS(r){try{const i=(await T0()).transaction(Il),a=await i.objectStore(Il).get(A0(r));return await i.done,a}catch(t){if(t instanceof ss)$i.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function H_(r,t){try{const a=(await T0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,A0(r)),await a.done}catch(i){if(i instanceof ss)$i.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}const $S=1024,WS=30;class tb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WS){const l=ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:a}=eb(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function eb(r,t=$S){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),F_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),F_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function F_(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function ib(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function sb(r){Ya(new Br("platform-logger",t=>new pS(t),"PRIVATE")),Ya(new Br("heartbeat",t=>new tb(t),"PRIVATE")),Qs(Yd,B_,r),Qs(Yd,B_,"esm2020"),Qs("fire-js","")}sb("");var rb="firebase",ab="12.6.0";Qs(rb,ab,"app");function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ob=S0,b0=new Ul("auth","Firebase",S0());const Bc=new _m("@firebase/auth");function lb(r,...t){Bc.logLevel<=Ot.WARN&&Bc.warn(`Auth (${io}): ${r}`,...t)}function Nc(r,...t){Bc.logLevel<=Ot.ERROR&&Bc.error(`Auth (${io}): ${r}`,...t)}function Wi(r,...t){throw Tm(r,...t)}function Ei(r,...t){return Tm(r,...t)}function w0(r,t,i){const a={...ob(),[t]:i};return new Ul("auth","Firebase",a).create(t,{appName:r.name})}function Ji(r){return w0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return b0.create(r,...t)}function yt(r,t,...i){if(!r)throw Tm(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function ts(r,t){r||Xi(t)}function Zd(){return typeof self<"u"&&self.location?.href||""}function ub(){return Q_()==="http:"||Q_()==="https:"}function Q_(){return typeof self<"u"&&self.location?.protocol||null}function cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||PA()||"connection"in navigator)?navigator.onLine:!0}function hb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ll{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=UA()||zA()}get(){return cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,t){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class R0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mb=new Ll(3e4,6e4);function Pl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function so(r,t,i,a,l={}){return I0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=kl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return LA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),R0.fetch()(await C0(r,r.config.apiHost,i,p),y)})}async function I0(r,t,i){r._canInitEmulator=!1;const a={...fb,...t};try{const l=new gb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw w0(r,A,y);Wi(r,A)}}catch(l){if(l instanceof ss)throw l;Wi(r,"network-request-failed",{message:String(l)})}}async function Sm(r,t,i,a,l={}){const c=await so(r,t,i,a,l);return"mfaPendingCredential"in c&&Wi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function C0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,l):`${r.config.apiScheme}://${l}`;return db.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class gb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),mb.get())})}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(r,t,a);return l.customData._tokenResponse=i,l}async function pb(r,t){return so(r,"POST","/v1/accounts:delete",t)}async function qc(r,t){return so(r,"POST","/v1/accounts:lookup",t)}function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yb(r,t=!1){const i=en(r),a=await i.getIdToken(t),l=bm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(Ld(l.auth_time)),issuedAtTime:Al(Ld(l.iat)),expirationTime:Al(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(r){return Number(r)*1e3}function bm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=h0(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Y_(r){const t=bm(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Cl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&_b(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function _b({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(r){const t=r.auth,i=await r.getIdToken(),a=await Cl(r,qc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?N0(l.providerUserInfo):[],d=Tb(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function Eb(r){const t=en(r);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Tb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function N0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ab(r,t){const i=await I0(r,{},async()=>{const a=kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await C0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(_.credentials="include"),R0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Sb(r,t){return so(r,"POST","/v2/accounts:revokeToken",Pl(r,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Y_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Ab(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ps(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new vb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yb(this,t)}reload(){return Eb(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Cl(this,pb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:J,stsTokenManager:it}=i;yt(w&&it,t,"internal-error");const $=qa.fromJSON(this.name,it);yt(typeof w=="string",t,"internal-error"),Ps(a,t.name),Ps(l,t.name),yt(typeof M=="boolean",t,"internal-error"),yt(typeof G=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(p,t.name),Ps(_,t.name),Ps(y,t.name),Ps(A,t.name);const ft=new Zn({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ft.providerData=J.map(Et=>({...Et}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?N0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new qa;p.updateFromIdToken(a);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const K_=new Map;function Zi(r){ts(r instanceof Function,"Expected a class definition");let t=K_.get(r);return t?(ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,K_.set(r,t),t)}class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}D0.type="NONE";const X_=D0;function Dc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Zi(X_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Zi(X_);const d=Dc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const M=await qc(t,{idToken:A}).catch(()=>{});if(!M)break;w=await Zn._fromGetAccountInfoResponse(t,M,A)}else w=Zn._fromJSON(t,A);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ha(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function Z_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(k0(t))return"Blackberry";if(L0(t))return"Webos";if(x0(t))return"Safari";if((t.includes("chrome/")||M0(t))&&!t.includes("edge/"))return"Chrome";if(U0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function O0(r=Je()){return/firefox\//i.test(r)}function x0(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function M0(r=Je()){return/crios\//i.test(r)}function V0(r=Je()){return/iemobile/i.test(r)}function U0(r=Je()){return/android/i.test(r)}function k0(r=Je()){return/blackberry/i.test(r)}function L0(r=Je()){return/webos/i.test(r)}function wm(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bb(r=Je()){return wm(r)&&!!window.navigator?.standalone}function wb(){return jA()&&document.documentMode===10}function P0(r=Je()){return wm(r)||U0(r)||L0(r)||k0(r)||/windows phone/i.test(r)||V0(r)}function z0(r,t=[]){let i;switch(r){case"Browser":i=Z_(Je());break;case"Worker":i=`${Z_(Je())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class Rb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Ib(r,t={}){return so(r,"GET","/v2/passwordPolicy",Pl(r,t))}const Cb=6;class Nb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Cb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Db{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new Rb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qc(this,{idToken:t}),a=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Ji(this));const i=t?en(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ib(this),i=new Nb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Sb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function zl(r){return en(r)}class J_{constructor(t){this.auth=t,this.observer=null,this.addObserver=KA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ob(r){Rm=r}function xb(r){return Rm.loadJS(r)}function Mb(){return Rm.gapiScript}function Vb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Ub(r,t){const i=Em(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Xs(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function kb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Lb(r,t,i){const a=zl(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=j0(t),{host:d,port:p}=Pb(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Xs(y,a.config.emulator)&&Xs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,no(d)?(g0(`${c}//${d}${_}`),p0("Auth",!0)):zb()}function j0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Pb(r){const t=j0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:$_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:$_(d)}}}function $_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function zb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class B0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Ga(r,t){return Sm(r,"POST","/v1/accounts:signInWithIdp",Pl(r,t))}const jb="http://localhost";class qr extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new qr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=kl(i)}return t}}class q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends jl{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class js extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class Bs extends jl{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends jl{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function Bb(r,t){return Sm(r,"POST","/v1/accounts:signUp",Pl(r,t))}class es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Zn._fromIdTokenResponse(t,a,l),d=W_(a);return new es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=W_(a);return new es({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function W_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function qb(r){if(kn(r.app))return Promise.reject(Ji(r));const t=zl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new es({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Bb(t,{returnSecureToken:!0}),a=await es._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Gc extends ss{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Gc(t,i,a,l)}}function H0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,c,t,a):c})}async function Hb(r,t,i=!1){const a=await Cl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return es._forOperation(r,"link",a)}async function Gb(r,t,i=!1){const{auth:a}=r;if(kn(a.app))return Promise.reject(Ji(a));const l="reauthenticate";try{const c=await Cl(r,H0(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=bm(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(r.uid===p,a,"user-mismatch"),es._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),c}}async function Fb(r,t,i=!1){if(kn(r.app))return Promise.reject(Ji(r));const a="signIn",l=await H0(r,a,t),c=await es._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Qb(r,t){return Sm(r,"POST","/v1/accounts:signInWithCustomToken",Pl(r,t))}async function Yb(r,t){if(kn(r.app))return Promise.reject(Ji(r));const i=zl(r),a=await Qb(i,{token:t,returnSecureToken:!0}),l=await es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Kb(r,t,i,a){return en(r).onIdTokenChanged(t,i,a)}function Xb(r,t,i){return en(r).beforeAuthStateChanged(t,i)}function Zb(r,t,i,a){return en(r).onAuthStateChanged(t,i,a)}const Fc="__sak";class G0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jb=1e3,$b=10;class F0 extends G0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);wb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,$b):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}F0.type="LOCAL";const Wb=F0;class Q0 extends G0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Q0.type="SESSION";const Y0=Q0;function tw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await tw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Im(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class ew{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Im("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function nw(r){Ti().location.href=r}function K0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function iw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sw(){return navigator?.serviceWorker?.controller||null}function rw(){return K0()?self:null}const X0="firebaseLocalStorageDb",aw=1,Qc="firebaseLocalStorage",Z0="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(r,t){return r.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function ow(){const r=indexedDB.deleteDatabase(X0);return new Bl(r).toPromise()}function $d(){const r=indexedDB.open(X0,aw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qc,{keyPath:Z0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qc)?t(a):(a.close(),await ow(),t(await $d()))})})}async function tv(r,t,i){const a=lh(r,!0).put({[Z0]:t,value:i});return new Bl(a).toPromise()}async function lw(r,t){const i=lh(r,!1).get(t),a=await new Bl(i).toPromise();return a===void 0?null:a.value}function ev(r,t){const i=lh(r,!0).delete(t);return new Bl(i).toPromise()}const uw=800,cw=3;class J0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>cw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(rw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iw(),!this.activeServiceWorker)return;this.sender=new ew(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await tv(t,Fc,"1"),await ev(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>tv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>lw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ev(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J0.type="LOCAL";const hw=J0;new Ll(3e4,6e4);function fw(r,t){return t?Zi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cm extends B0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function dw(r){return Fb(r.auth,new Cm(r),r.bypassAuthState)}function mw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Gb(i,new Cm(r),r.bypassAuthState)}async function gw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Hb(i,new Cm(r),r.bypassAuthState)}class $0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dw;case"linkViaPopup":case"linkViaRedirect":return gw;case"reauthViaPopup":case"reauthViaRedirect":return mw;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pw=new Ll(2e3,1e4);class Ba extends $0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pw.get())};t()}}Ba.currentPopupAction=null;const yw="pendingRedirect",Oc=new Map;class _w extends $0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await vw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vw(r,t){const i=Aw(t),a=Tw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Ew(r,t){Oc.set(r._key(),t)}function Tw(r){return Zi(r._redirectPersistence)}function Aw(r){return Dc(yw,r.config.apiKey,r.name)}async function Sw(r,t,i=!1){if(kn(r.app))return Promise.reject(Ji(r));const a=zl(r),l=fw(a,t),d=await new _w(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const bw=600*1e3;class ww{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Rw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!W0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bw&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(t))}saveEventToCache(t){this.cachedEventUids.add(nv(t)),this.lastProcessedEventTime=Date.now()}}function nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function W0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Rw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(r);default:return!1}}async function Iw(r,t={}){return so(r,"GET","/v1/projects",t)}const Cw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nw=/^https?/;async function Dw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Iw(r);for(const i of t)try{if(Ow(i))return}catch{}Wi(r,"unauthorized-domain")}function Ow(r){const t=Zd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Nw.test(i))return!1;if(Cw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const xw=new Ll(3e4,6e4);function iv(){const r=Ti().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Mw(r){return new Promise((t,i)=>{function a(){iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iv(),i(Ei(r,"network-request-failed"))},timeout:xw.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const l=Vb("iframefcb");return Ti()[l]=()=>{gapi.load?a():i(Ei(r,"network-request-failed"))},xb(`${Mb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function Vw(r){return xc=xc||Mw(r),xc}const Uw=new Ll(5e3,15e3),kw="__/auth/iframe",Lw="emulator/auth/iframe",Pw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jw(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,Lw):`https://${r.config.authDomain}/${kw}`,a={apiKey:t.apiKey,appName:r.name,v:io},l=zw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${kl(a).slice(1)}`}async function Bw(r){const t=await Vw(r),i=Ti().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:jw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(r,"network-request-failed"),p=Ti().setTimeout(()=>{c(d)},Uw.get());function _(){Ti().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const qw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hw=500,Gw=600,Fw="_blank",Qw="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yw(r,t,i,a=Hw,l=Gw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...qw,width:a.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=M0(y)?Fw:i),O0(y)&&(t=t||Qw,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[G,J])=>`${M}${G}=${J},`,"");if(bb(y)&&p!=="_self")return Kw(t||"",p),new sv(null);const w=window.open(t||"",p,A);yt(w,r,"popup-blocked");try{w.focus()}catch{}return new sv(w)}function Kw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Xw="__/auth/handler",Zw="emulator/auth/handler",Jw=encodeURIComponent("fac");async function rv(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof q0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",YA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof jl){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${Jw}=${encodeURIComponent(_)}`:"";return`${$w(r)}?${kl(p).slice(1)}${y}`}function $w({config:r}){return r.emulator?Am(r,Zw):`https://${r.authDomain}/${Xw}`}const Pd="webStorageSupport";class Ww{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y0,this._completeRedirectFn=Sw,this._overrideRedirectResult=Ew}async _openPopup(t,i,a,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rv(t,i,a,Zd(),l);return Yw(t,c,Im())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await rv(t,i,a,Zd(),l);return nw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Bw(t),a=new ww(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Dw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return P0()||x0()||wm()}}const tR=Ww;var av="@firebase/auth",ov="1.11.1";class eR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iR(r){Ya(new Br("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},y=new Db(a,l,c,_);return kb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new Br("auth-internal",t=>{const i=zl(t.getProvider("auth").getImmediate());return(a=>new eR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(av,ov,nR(r)),Qs(av,ov,"esm2020")}const sR=300,rR=m0("authIdTokenMaxAge")||sR;let lv=null;const aR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>rR)return;const l=i?.token;lv!==l&&(lv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function oR(r=E0()){const t=Em(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Ub(r,{popupRedirectResolver:tR,persistence:[hw,Wb,Y0]}),a=m0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=aR(c.toString());Xb(i,d,()=>d(i.currentUser)),Kb(i,p=>d(p))}}const l=f0("auth");return l&&Lb(i,`http://${l}`),i}function lR(){return document.getElementsByTagName("head")?.[0]??document}Ob({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",lR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iR("Browser");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,tE;(function(){var r;function t(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,O,N){for(var S=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)S[nt-2]=arguments[nt];return b.prototype[O].apply(V,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],O=C.g[2];let N=C.g[3],S;S=b+(N^R&(O^N))+V[0]+3614090360&4294967295,b=R+(S<<7&4294967295|S>>>25),S=N+(O^b&(R^O))+V[1]+3905402710&4294967295,N=b+(S<<12&4294967295|S>>>20),S=O+(R^N&(b^R))+V[2]+606105819&4294967295,O=N+(S<<17&4294967295|S>>>15),S=R+(b^O&(N^b))+V[3]+3250441966&4294967295,R=O+(S<<22&4294967295|S>>>10),S=b+(N^R&(O^N))+V[4]+4118548399&4294967295,b=R+(S<<7&4294967295|S>>>25),S=N+(O^b&(R^O))+V[5]+1200080426&4294967295,N=b+(S<<12&4294967295|S>>>20),S=O+(R^N&(b^R))+V[6]+2821735955&4294967295,O=N+(S<<17&4294967295|S>>>15),S=R+(b^O&(N^b))+V[7]+4249261313&4294967295,R=O+(S<<22&4294967295|S>>>10),S=b+(N^R&(O^N))+V[8]+1770035416&4294967295,b=R+(S<<7&4294967295|S>>>25),S=N+(O^b&(R^O))+V[9]+2336552879&4294967295,N=b+(S<<12&4294967295|S>>>20),S=O+(R^N&(b^R))+V[10]+4294925233&4294967295,O=N+(S<<17&4294967295|S>>>15),S=R+(b^O&(N^b))+V[11]+2304563134&4294967295,R=O+(S<<22&4294967295|S>>>10),S=b+(N^R&(O^N))+V[12]+1804603682&4294967295,b=R+(S<<7&4294967295|S>>>25),S=N+(O^b&(R^O))+V[13]+4254626195&4294967295,N=b+(S<<12&4294967295|S>>>20),S=O+(R^N&(b^R))+V[14]+2792965006&4294967295,O=N+(S<<17&4294967295|S>>>15),S=R+(b^O&(N^b))+V[15]+1236535329&4294967295,R=O+(S<<22&4294967295|S>>>10),S=b+(O^N&(R^O))+V[1]+4129170786&4294967295,b=R+(S<<5&4294967295|S>>>27),S=N+(R^O&(b^R))+V[6]+3225465664&4294967295,N=b+(S<<9&4294967295|S>>>23),S=O+(b^R&(N^b))+V[11]+643717713&4294967295,O=N+(S<<14&4294967295|S>>>18),S=R+(N^b&(O^N))+V[0]+3921069994&4294967295,R=O+(S<<20&4294967295|S>>>12),S=b+(O^N&(R^O))+V[5]+3593408605&4294967295,b=R+(S<<5&4294967295|S>>>27),S=N+(R^O&(b^R))+V[10]+38016083&4294967295,N=b+(S<<9&4294967295|S>>>23),S=O+(b^R&(N^b))+V[15]+3634488961&4294967295,O=N+(S<<14&4294967295|S>>>18),S=R+(N^b&(O^N))+V[4]+3889429448&4294967295,R=O+(S<<20&4294967295|S>>>12),S=b+(O^N&(R^O))+V[9]+568446438&4294967295,b=R+(S<<5&4294967295|S>>>27),S=N+(R^O&(b^R))+V[14]+3275163606&4294967295,N=b+(S<<9&4294967295|S>>>23),S=O+(b^R&(N^b))+V[3]+4107603335&4294967295,O=N+(S<<14&4294967295|S>>>18),S=R+(N^b&(O^N))+V[8]+1163531501&4294967295,R=O+(S<<20&4294967295|S>>>12),S=b+(O^N&(R^O))+V[13]+2850285829&4294967295,b=R+(S<<5&4294967295|S>>>27),S=N+(R^O&(b^R))+V[2]+4243563512&4294967295,N=b+(S<<9&4294967295|S>>>23),S=O+(b^R&(N^b))+V[7]+1735328473&4294967295,O=N+(S<<14&4294967295|S>>>18),S=R+(N^b&(O^N))+V[12]+2368359562&4294967295,R=O+(S<<20&4294967295|S>>>12),S=b+(R^O^N)+V[5]+4294588738&4294967295,b=R+(S<<4&4294967295|S>>>28),S=N+(b^R^O)+V[8]+2272392833&4294967295,N=b+(S<<11&4294967295|S>>>21),S=O+(N^b^R)+V[11]+1839030562&4294967295,O=N+(S<<16&4294967295|S>>>16),S=R+(O^N^b)+V[14]+4259657740&4294967295,R=O+(S<<23&4294967295|S>>>9),S=b+(R^O^N)+V[1]+2763975236&4294967295,b=R+(S<<4&4294967295|S>>>28),S=N+(b^R^O)+V[4]+1272893353&4294967295,N=b+(S<<11&4294967295|S>>>21),S=O+(N^b^R)+V[7]+4139469664&4294967295,O=N+(S<<16&4294967295|S>>>16),S=R+(O^N^b)+V[10]+3200236656&4294967295,R=O+(S<<23&4294967295|S>>>9),S=b+(R^O^N)+V[13]+681279174&4294967295,b=R+(S<<4&4294967295|S>>>28),S=N+(b^R^O)+V[0]+3936430074&4294967295,N=b+(S<<11&4294967295|S>>>21),S=O+(N^b^R)+V[3]+3572445317&4294967295,O=N+(S<<16&4294967295|S>>>16),S=R+(O^N^b)+V[6]+76029189&4294967295,R=O+(S<<23&4294967295|S>>>9),S=b+(R^O^N)+V[9]+3654602809&4294967295,b=R+(S<<4&4294967295|S>>>28),S=N+(b^R^O)+V[12]+3873151461&4294967295,N=b+(S<<11&4294967295|S>>>21),S=O+(N^b^R)+V[15]+530742520&4294967295,O=N+(S<<16&4294967295|S>>>16),S=R+(O^N^b)+V[2]+3299628645&4294967295,R=O+(S<<23&4294967295|S>>>9),S=b+(O^(R|~N))+V[0]+4096336452&4294967295,b=R+(S<<6&4294967295|S>>>26),S=N+(R^(b|~O))+V[7]+1126891415&4294967295,N=b+(S<<10&4294967295|S>>>22),S=O+(b^(N|~R))+V[14]+2878612391&4294967295,O=N+(S<<15&4294967295|S>>>17),S=R+(N^(O|~b))+V[5]+4237533241&4294967295,R=O+(S<<21&4294967295|S>>>11),S=b+(O^(R|~N))+V[12]+1700485571&4294967295,b=R+(S<<6&4294967295|S>>>26),S=N+(R^(b|~O))+V[3]+2399980690&4294967295,N=b+(S<<10&4294967295|S>>>22),S=O+(b^(N|~R))+V[10]+4293915773&4294967295,O=N+(S<<15&4294967295|S>>>17),S=R+(N^(O|~b))+V[1]+2240044497&4294967295,R=O+(S<<21&4294967295|S>>>11),S=b+(O^(R|~N))+V[8]+1873313359&4294967295,b=R+(S<<6&4294967295|S>>>26),S=N+(R^(b|~O))+V[15]+4264355552&4294967295,N=b+(S<<10&4294967295|S>>>22),S=O+(b^(N|~R))+V[6]+2734768916&4294967295,O=N+(S<<15&4294967295|S>>>17),S=R+(N^(O|~b))+V[13]+1309151649&4294967295,R=O+(S<<21&4294967295|S>>>11),S=b+(O^(R|~N))+V[4]+4149444226&4294967295,b=R+(S<<6&4294967295|S>>>26),S=N+(R^(b|~O))+V[11]+3174756917&4294967295,N=b+(S<<10&4294967295|S>>>22),S=O+(b^(N|~R))+V[2]+718787259&4294967295,O=N+(S<<15&4294967295|S>>>17),S=R+(N^(O|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+N&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,V=this.C;let O=this.h,N=0;for(;N<b;){if(O==0)for(;N<=R;)l(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<b;)if(V[O++]=C.charCodeAt(N++),O==this.blockSize){l(this,V),O=0;break}}else for(;N<b;)if(V[O++]=C[N++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[b++]=this.g[R]>>>V&255;return C};function c(C,b){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function d(C,b){this.h=b;const R=[];let V=!0;for(let O=C.length-1;O>=0;O--){const N=C[O]|0;V&&N==b||(R[O]=N,V=!1)}this.g=R}var p={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return $(y(-C));const b=[];let R=1;for(let V=0;C>=R;V++)b[V]=C/R|0,R*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return $(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let V=w;for(let N=0;N<C.length;N+=8){var O=Math.min(8,C.length-N);const S=parseInt(C.substring(N,N+O),b);O<8?(O=y(Math.pow(b,O)),V=V.j(O).add(y(S))):(V=V.j(R),V=V.add(y(S)))}return V}var w=_(0),M=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-$(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(it(this))return"-"+$(this).toString(C);const b=y(Math.pow(C,6));var R=this;let V="";for(;;){const O=Bt(R,b).g;R=ft(R,O.j(b));let N=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,J(R))return N+V;for(;N.length<6;)N="0"+N;V=N+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function it(C){return C.h==-1}r.l=function(C){return C=ft(this,C),it(C)?-1:J(C)?0:1};function $(C){const b=C.g.length,R=[];for(let V=0;V<b;V++)R[V]=~C.g[V];return new d(R,~C.h).add(M)}r.abs=function(){return it(this)?$(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let O=0;O<=b;O++){let N=V+(this.i(O)&65535)+(C.i(O)&65535),S=(N>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=S>>>16,N&=65535,S&=65535,R[O]=S<<16|N}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(C,b){return C.add($(b))}r.j=function(C){if(J(this)||J(C))return w;if(it(this))return it(C)?$(this).j($(C)):$($(this).j(C));if(it(C))return $(this.j($(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const N=this.i(V)>>>16,S=this.i(V)&65535,nt=C.i(O)>>>16,lt=C.i(O)&65535;R[2*V+2*O]+=S*lt,Et(R,2*V+2*O),R[2*V+2*O+1]+=N*lt,Et(R,2*V+2*O+1),R[2*V+2*O+1]+=S*nt,Et(R,2*V+2*O+1),R[2*V+2*O+2]+=N*nt,Et(R,2*V+2*O+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new d(R,0)};function Et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function gt(C,b){this.g=C,this.h=b}function Bt(C,b){if(J(b))throw Error("division by zero");if(J(C))return new gt(w,w);if(it(C))return b=Bt($(C),b),new gt($(b.g),$(b.h));if(it(b))return b=Bt(C,$(b)),new gt($(b.g),b.h);if(C.g.length>30){if(it(C)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=b;V.l(C)<=0;)R=Xt(R),V=Xt(V);var O=Vt(R,1),N=Vt(V,1);for(V=Vt(V,2),R=Vt(R,2);!J(V);){var S=N.add(V);S.l(C)<=0&&(O=O.add(R),N=S),V=Vt(V,1),R=Vt(R,1)}return b=ft(C,O.j(b)),new gt(O,b)}for(O=w;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),N=y(R),S=N.j(b);it(S)||S.l(C)>0;)R-=V,N=y(R),S=N.j(b);J(N)&&(N=M),O=O.add(N),C=ft(C,S)}return new gt(O,C)}r.B=function(C){return Bt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function Xt(C){const b=C.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function Vt(C,b){const R=b>>5;b%=32;const V=C.g.length-R,O=[];for(let N=0;N<V;N++)O[N]=b>0?C.i(N+R)>>>b|C.i(N+R+1)<<32-b:C.i(N+R);return new d(O,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,tE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ys=d}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eE,yl,nE,Mc,Wd,iE,sE,rE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in v))break t;v=v[k]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,k,j){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[k].apply(T,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const j=k.length||0;u.length=v+j;for(let tt=0;tt<j;tt++)u[v+tt]=k[tt]}else u.push(k)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new it(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,Vt=!1,C=new Et,b=()=>{const u=Promise.resolve(void 0);Xt=()=>{u.then(R)}};function R(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){$(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(nt,O),nt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,v,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=k,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(v in T)u[v]=T[v];for(let j=0;j<Q.length;j++)v=Q[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,k){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=wt(u,m,T,k);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new W(m,this.src,j,!!T,k),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],k=Array.prototype.indexOf.call(T,m,void 0),j;(j=k>=0)&&Array.prototype.splice.call(T,k,1),j&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let k=0;k<u.length;++k){const j=u[k];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return k}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(u,m,v,T,k){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(u,m[j],v,T,k);return null}return v=ho(v),u&&u[lt]?u.J(m,v,p(T)?!!T.capture:!1,k):sr(u,m,v,!1,T,k)}function sr(u,m,v,T,k,j){if(!m)throw Error("Invalid event type");const tt=p(k)?!!k.capture:!!k;let St=rr(u);if(St||(u[Lt]=St=new st(u)),v=St.add(m,v,T,tt,j),v.proxy)return v;if(T=Yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)N||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=uo;return u}function Kr(u,m,v,T,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)Kr(u,m[j],v,T,k);else T=p(T)?!!T.capture:!!T,v=ho(v),u&&u[lt]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=wt(m,v,T,k),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,k)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[lt])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=rr(m))?(_t(v,u),v.h==0&&(v.src=null,m[Lt]=null)):ut(u)}}}function Jn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=v.call(T,m)}return u}function rr(u){return u=u[Lt],u instanceof st?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function pe(){V.call(this),this.i=new st(this),this.M=this,this.G=null}w(pe,V),pe.prototype[lt]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Kr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var k=m;m=new O(T,u),et(m,k)}k=!0;let j,tt;if(v)for(tt=v.length-1;tt>=0;tt--)j=m.g=v[tt],k=rs(j,T,!0,m)&&k;if(j=m.g=u,k=rs(j,T,!0,m)&&k,k=rs(j,T,!1,m)&&k,v)for(tt=0;tt<v.length;tt++)j=m.g=v[tt],k=rs(j,T,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function rs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,fe=tt.ha||tt.src;tt.fa&&_t(u.i,tt),k=St.call(fe,T)!==!1&&k}}return k&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Kl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Kl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){V.call(this),this.h=u,this.g={}}w(ar,V);var fo=[];function mo(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),mo(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Ch=d.JSON.parse,Xl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){O.call(this,"d")}w(Pe,O);function Sn(){O.call(this,"c")}w(Sn,O);var he={},$l=null;function Zr(){return $l=$l||new pe}he.Ia="serverreachability";function Wl(u){O.call(this,he.Ia,u)}w(Wl,O);function $n(u){const m=Zr();Ne(m,new Wl(m))}he.STAT_EVENT="statevent";function or(u,m){O.call(this,he.STAT_EVENT,u),this.stat=m}w(or,O);function ye(u){const m=Zr();Ne(m,new or(m,u))}he.Ja="timingevent";function Wn(u,m){O.call(this,he.Ja,u),this.size=m}w(Wn,O);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,k,j){u.info(function(){if(u.g)if(j){var tt="",St=j.split("&");for(let Ht=0;Ht<St.length;Ht++){var fe=St[Ht].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const In=re.split("_");tt=In.length>=2&&In[1]=="type"?tt+(re+"="+fe+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+v+`
`+tt})}function tu(u,m,v,T,k,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+v+`
`+j+" "+tt})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return as(j)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function cr(){}w(cr,Zl),cr.prototype.g=function(){return new XMLHttpRequest},po=new cr;function Di(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function ni(u,m,v){u.M=1,u.A=hr(Ee(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(fo[0]=k.toString()),k=fo);for(let j=0;j<k.length;j++){const tt=se(v,k[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Gn(this.g),fe=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||fe==7||(fe==8||Ht<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var j=T;break e}}j=null}if(u=j)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),bn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=iu(this,v),re==Me){St==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ri(this,re);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Oo(tt),tt.P=!0,ye(11))}}else ei(this.i,this.l,v,null),ri(this,v);St==4&&fn(this),this.o&&!this.K&&(St==4?fu(this.j,this):(this.o=!1,ii(this)))}else xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),bn(this)}}}catch{}finally{}};function Oh(u){if(!nu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,k=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(k&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function ii(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&($n(),ye(17)),fn(this),this.m=2,bn(this)):$r(this,this.T-u)};function bn(u){u.j.I==0||u.K||fu(u.j,u)}function fn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),ms(v);else break t;_r(v),ye(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(y(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&aa(v),!S(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let Ht=k[m];const re=Ht[0];if(!(re<=v.K))if(v.K=re,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const In=Ht[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const mi=Ht[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Fn=Ht[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const vr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var j=T.h;j.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(vo(j,j.h),j.h=null))}if(T.G){const oa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Qt(T.J,T.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=gu(T,T.L?T.ba:null,T.W),tt.L){Eo(T.h,tt);var St=tt,fe=T.O;fe&&(St.H=fe),St.D&&(si(St),ii(St)),T.g=tt}else cu(T);v.i.length>0&&fi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||di(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?di(v,7):No(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let k,j=null;T>=0?(k=u[v].substring(0,T),j=u[v].substring(T+1)):k=u[v],m(k,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,Ao(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),os(this,m[4]),this.h=li(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,ta,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fr(v,v.charAt(0)=="/"?So:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fr(v,au)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Ve(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const j=[];for(let tt=0;tt<k.length;){const St=k[tt++];St=="."?T&&tt==k.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&tt==k.length&&j.push("")):(j.push(St),T=!0)}T=j.join("/")}else T=k}return v?m.h=T:v=u.i.toString()!=="",v?Ao(m,lu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new dn(u)}function Ve(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,v){m instanceof us?(u.i=m,na(u.i,u.l)):(v||(m=fr(m,ls)),u.i=new us(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function hr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,ru=/[#\?:]/g,So=/[#\?]/g,ls=/[#\?@]/g,au=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=us.prototype,r.add=function(u,m){sn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ou(u,m){sn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return sn(u),m=cs(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(k){u.call(m,k,T,this)},this)},this)};function wo(u,m){sn(u);let v=[];if(typeof m=="string")bo(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=cs(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){ou(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const k=Di(v);v=wo(this,v);for(let j=0;j<v.length;j++){let tt=k;v[j]!==""&&(tt+="="+Di(v[j])),u.push(tt)}}return this.i=u.join("&")};function lu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const k=T.toLowerCase();T!=k&&(ou(this,T),ea(this,k,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const v=new zn,T=new AbortController,k=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(k),j.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(v)}catch{}}function hs(){this.g=new Xl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ui,Zl),ui.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(dr,pe),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):Hn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},r.Na=function(u){this.g&&(this.response=u,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function mr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Di(v):Qt(u,m,v))}function Zt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Zt,pe);var ci=/^https?$/i,Io=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){gr(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)v.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){gr(this,j)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),Oi(u)}function Co(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},r.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let tt=String(u.D).match(su)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!ci.test(tt?tt.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var k=Gn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Co(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var v=eu(u[T]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[k]||[];m[k]=j,j.push(v)}qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),fi(this)};function No(u){if(sa(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),yr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=hr(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}mu(u)}function ms(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function sa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xt||b(),Vt||(Xt(),Vt=!0),C.add(m,u),u.D=0}}function ra(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new jn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=x(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(k.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,k,m),v=Ee(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),yr(this,v),j&&(this.R?m="headers="+Di(Rn(j))+"&"+m:this.u&&mr(v,this.u,j)),vo(this.h,k),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),k.U=!0,ni(k,v,null)):ni(k,v,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||_o(this.h)||Do(this))};function Do(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,v),ni(v,T,m)}function yr(u,m){u.H&&Ut(u.H,function(v,T){Qt(m,T,v)}),u.l&&Ut({},function(v,T){Qt(m,T,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let St=-1;for(;;){const fe=["count="+v];St==-1?v>0?(St=k[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let Ht=!0;for(let re=0;re<v;re++){var j=k[re].g;const In=k[re].map;if(j-=St,j<0)St=Math.max(0,k[re].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[mi,Fn]of tt){let Qn=Fn;p(Fn)&&(Qn=as(Fn)),fe.push(j+mi+"="+encodeURIComponent(Qn))}}catch(mi){throw fe.push(j+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(In)}}if(Ht){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xt||b(),Vt||(Xt(),Vt=!0),C.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ms(this),hu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hr(Ee(m)),v.u=null,v.R=!0,Jr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),_r(this),ye(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){aa(u),Oo(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=Zr(),Ne(T,new Wn(T,v)),fi(u)}else cu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&_r(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const k=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),hr(T),k?qn(T.toString(),v):Ro(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),mu(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var T=v instanceof dn?Ee(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const j=new dn(null);T&&Ve(j,T),m&&(j.g=m),k&&os(j,k),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),yr(u,T),T}function pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ui({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}w(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){No(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,We.Z.N.call(this)};function _u(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(_u,Pe);function vu(){Sn.call(this),this.status=1}w(vu,Sn);function Mi(u){this.g=u}w(Mi,yu),Mi.prototype.ra=function(){Ne(this.g,"a")},Mi.prototype.qa=function(u){Ne(this.g,new _u(u))},Mi.prototype.pa=function(u){Ne(this.g,new vu)},Mi.prototype.oa=function(){Ne(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,rE=function(){return new gs},sE=function(){return Zr()},iE=he,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Mc=ur,go.COMPLETE="complete",nE=go,Jl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,yl=Jl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,eE=Zt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",hv="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let ro="12.3.0";const Hr=new _m("@firebase/firestore");function La(){return Hr.logLevel}function rt(r,...t){if(Hr.logLevel<=Ot.DEBUG){const i=t.map(Nm);Hr.debug(`Firestore (${ro}): ${r}`,...i)}}function ns(r,...t){if(Hr.logLevel<=Ot.ERROR){const i=t.map(Nm);Hr.error(`Firestore (${ro}): ${r}`,...i)}}function Ka(r,...t){if(Hr.logLevel<=Ot.WARN){const i=t.map(Nm);Hr.warn(`Firestore (${ro}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,aE(r,a,i)}function aE(r,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ns(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||aE(t,l,a)}function At(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class oE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class cR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ks,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ks)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new oE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class fR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new fR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new fv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function xt(r,t){return r<t?-1:r>t?1:0}function tm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?xt(l,c):zd(l)?1:-1}return xt(r.length,t.length)}const pR=55296,yR=57343;function zd(r){const t=r.charCodeAt(0);return t>=pR&&t<=yR}function Xa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const dv="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class oe extends vi{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return _R.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Fe([dv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(oe.fromString(t))}static fromName(t){return new dt(oe.fromString(t).popFirst(5))}static empty(){return new dt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new oe(t.slice()))}}function vR(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ER(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function mv(r){if(!dt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ai(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Re(r,t){const i={typeString:r};return t&&(i.value=t),i}function ql(r,t){if(!lE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const gv=-62135596800,pv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*pv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<gv)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function TR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Zs(l,dt.empty(),t)}function AR(r){return new Zs(r.readTime,r.key,Nl)}class Zs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zs(vt.min(),dt.empty(),Nl)}static max(){return new Zs(vt.max(),dt.empty(),Nl)}}function SR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}const bR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==bR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function RR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const xm=-1;function ch(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function IR(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const uE="";function CR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=yv(t)),t=NR(r.get(i),t);return yv(t)}function NR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case uE:i+="";break;default:i+=c}}return i}function yv(r){return r+uE+""}function _v(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function nr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function cE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new xe(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const DR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=DR.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $s(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const fE="server_timestamp",dE="__type__",mE="__previous_value__",gE="__local_write_time__";function Mm(r){return(r?.mapValue?.fields||{})[dE]?.stringValue===fE}function hh(r){const t=r.mapValue.fields[mE];return Mm(t)?hh(t):t}function Dl(r){const t=Js(r.mapValue.fields[gE].timestampValue);return new ie(t.seconds,t.nanos)}class OR{constructor(t,i,a,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Kc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const pE="__type__",xR="__max__",Rc={mapValue:{}},yE="__vector__",Xc="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:VR(r)?9007199254740991:MR(r)?10:11:pt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=Ws(r);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Js(l.timestampValue),p=Js(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return $s(l.bytesValue).isEqual($s(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Yc(d)===Yc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(_v(d)!==_v(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ci(d[_],p[_])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function xl(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=Ws(r),a=Ws(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Ev(r.timestampValue,t.timestampValue);case 4:return Ev(Dl(r),Dl(t));case 5:return tm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=$s(c),_=$s(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=xt(p[y],_[y]);if(A!==0)return A}return xt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=xt(ge(c.latitude),ge(d.latitude));return p!==0?p:xt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Tv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Xc]?.arrayValue,A=_[Xc]?.arrayValue,w=xt(y?.values?.length||0,A?.values?.length||0);return w!==0?w:Tv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const M=tm(_[w],A[w]);if(M!==0)return M;const G=Za(p[_[w]],y[A[w]]);if(G!==0)return G}return xt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Ev(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=Js(r),a=Js(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function Tv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return xt(i.length,a.length)}function Ja(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Js(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $s(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=em(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Vc(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return $s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return nr(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function nm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Av(r){return!!r&&"nullValue"in r}function Sv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function MR(r){return(r?.mapValue?.fields||{})[pE]?.stringValue===yE}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return nr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function VR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xR}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){nr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Sl(this.value))}}function _E(r){const t=[];return nr(r.fields,((i,a)=>{const l=new Fe([i]);if(Uc(a)){const c=_E(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function bv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function UR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class vE{}class Oe extends vE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new LR(t,i,a):i==="array-contains"?new jR(t,a):i==="in"?new BR(t,a):i==="not-in"?new qR(t,a):i==="array-contains-any"?new HR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new PR(t,a):new zR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends vE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return EE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EE(r){return r.op==="and"}function TE(r){return kR(r)&&EE(r)}function kR(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function im(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(TE(r))return r.filters.map((t=>im(t))).join(",");{const t=r.filters.map((i=>im(i))).join(",");return`${r.op}(${t})`}}function AE(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof Ni?(function(a,l){return l instanceof Ni&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&AE(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function SE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(SE).join(" ,")+"}"})(r):"Filter"}class LR extends Oe{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class PR extends Oe{constructor(t,i){super(t,"in",i),this.keys=bE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class zR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=bE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function bE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class jR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&xl(i.arrayValue,this.value)}}class BR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class qR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class HR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class GR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Rv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new GR(r,t,i,a,l,c,d)}function Um(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function km(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!UR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!AE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!wv(r.startAt,t.startAt)&&wv(r.endAt,t.endAt)}function sm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FR(r,t,i,a,l,c,d,p){return new fh(r,t,i,a,l,c,d,p)}function dh(r){return new fh(r)}function Iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function QR(r){return r.collectionGroup!==null}function bl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Jc(Fe.keyField(),a))}return t.Ie}function Si(r){const t=At(r);return t.Ee||(t.Ee=YR(t,bl(r))),t.Ee}function YR(r,t){if(r.limitType==="F")return Rv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return Rv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function rm(r,t,i){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function mh(r,t){return km(Si(r),Si(t))&&r.limitType===t.limitType}function wE(r){return`${Um(Si(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>SE(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=bv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,bl(a),l)||a.endAt&&!(function(d,p,_){const y=bv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,bl(a),l))})(r,t)}function KR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function RE(r){return(t,i)=>{let a=!1;for(const l of bl(r)){const c=XR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function XR(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Za(_,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}const ZR=new le(dt.comparator);function is(){return ZR}const IE=new le(dt.comparator);function _l(...r){let t=IE;for(const i of r)t=t.insert(i.key,i);return t}function CE(r){let t=IE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return wl()}function NE(){return wl()}function wl(){return new Fr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const JR=new le(dt.comparator),$R=new xe(dt.comparator);function Mt(...r){let t=$R;for(const i of r)t=t.add(i);return t}const WR=new xe(xt);function t2(){return WR}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function DE(r){return{integerValue:""+r}}function e2(r,t){return IR(t)?DE(t):Lm(r,t)}class ph{constructor(){this._=void 0}}function n2(r,t,i){return r instanceof $c?(function(l,c){const d={fields:{[dE]:{stringValue:fE},[gE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=hh(c)),c&&(d.fields[mE]=c),{mapValue:d}})(i,t):r instanceof $a?xE(r,t):r instanceof Ml?ME(r,t):(function(l,c){const d=OE(l,c),p=Cv(d)+Cv(l.Ae);return nm(d)&&nm(l.Ae)?DE(p):Lm(l.serializer,p)})(r,t)}function i2(r,t,i){return r instanceof $a?xE(r,t):r instanceof Ml?ME(r,t):i}function OE(r,t){return r instanceof Wc?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class $c extends ph{}class $a extends ph{constructor(t){super(),this.elements=t}}function xE(r,t){const i=VE(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends ph{constructor(t){super(),this.elements=t}}function ME(r,t){let i=VE(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Wc extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Cv(r){return ge(r.integerValue||r.doubleValue)}function VE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class s2{constructor(t,i){this.field=t,this.transform=i}}function r2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof $a&&l instanceof $a||a instanceof Ml&&l instanceof Ml?Xa(a.elements,l.elements,Ci):a instanceof Wc&&l instanceof Wc?Ci(a.Ae,l.Ae):a instanceof $c&&l instanceof $c})(r.transform,t.transform)}class a2{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function UE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new LE(r.key,bi.none()):new Hl(r.key,r.data,bi.none());{const i=r.data,a=hn.empty();let l=new xe(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ir(r.key,a,new Tn(l.toArray()),bi.none())}}function o2(r,t,i){r instanceof Hl?(function(l,c,d){const p=l.value.clone(),_=Dv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ir?(function(l,c,d){if(!kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Dv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(kE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof Hl?(function(c,d,p,_){if(!kc(c.precondition,d))return p;const y=c.value.clone(),A=Ov(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ir?(function(c,d,p,_){if(!kc(c.precondition,d))return p;const y=Ov(c.fieldTransforms,_,d),A=d.data;return A.setAll(kE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function l2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=OE(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function Nv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((c,d)=>r2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Hl extends yh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ir extends yh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Dv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,i2(d,p,i[l]))}return a}function Ov(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,n2(c,d,t))}return a}class LE extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u2 extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class c2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&o2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=NE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=UE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Nv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Nv(i,a)))}}class Pm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return JR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Pm(t,i,a,l)}}class h2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class f2{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function d2(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function PE(r){if(r===void 0)return ns("GRPC error has no .code"),Z.UNKNOWN;switch(r){case we.OK:return Z.OK;case we.CANCELLED:return Z.CANCELLED;case we.UNKNOWN:return Z.UNKNOWN;case we.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case we.INTERNAL:return Z.INTERNAL;case we.UNAVAILABLE:return Z.UNAVAILABLE;case we.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case we.NOT_FOUND:return Z.NOT_FOUND;case we.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case we.ABORTED:return Z.ABORTED;case we.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case we.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function m2(){return new TextEncoder}const g2=new Ys([4294967295,4294967295],0);function xv(r){const t=m2().encode(r),i=new tE;return i.update(t),new Uint8Array(i.digest())}function Mv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([l,c],0)]}class zm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ys.fromNumber(a)));return l.compare(g2)===1&&(l=new Ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[a,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=xv(t),[a,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(vt.min(),l,new le(xt),is(),Mt())}}class Gl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Gl(a,i,Mt(),Mt(),Mt())}}class Lc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class zE{constructor(t,i){this.targetId=t,this.Ce=i}}class jE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Vv{constructor(){this.ve=0,this.Fe=Uv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Uv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class p2{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.Je=Ic(),this.He=Ic(),this.Ye=new le(xt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new dt(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=$s(a).toUint8Array()}catch(_){if(_ instanceof hE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new zm(d,l,c)}catch(_){return Ka(_ instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new _h(t,i,this.Ye,this.je,a);return this.je=is(),this.Je=Ic(),this.He=Ic(),this.Ye=new le(xt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Vv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new xe(xt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new xe(xt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Vv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new le(dt.comparator)}function Uv(){return new le(dt.comparator)}const y2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v2={and:"AND",or:"OR"};class E2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function T2(r,t){return th(r,t.toTimestamp())}function wi(r){return Ft(!!r,49232),vt.fromTimestamp((function(i){const a=Js(i);return new ie(a.seconds,a.nanos)})(r))}function jm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function qE(r){const t=oe.fromString(r);return Ft(YE(t),10190,{key:t.toString()}),t}function lm(r,t){return jm(r.databaseId,t.path)}function jd(r,t){const i=qE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(GE(i))}function HE(r,t){return jm(r.databaseId,t)}function A2(r){const t=qE(r);return t.length===4?oe.emptyPath():GE(t)}function um(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function kv(r,t,i){return{name:lm(r,t),fields:i.value.mapValue.fields}}function S2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:PE(y.code);return new ct(A,y.message||"")})(d);i=new jE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):vt.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Lc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=jd(r,a.document),c=a.readTime?wi(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Lc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=jd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new f2(l,c),p=a.targetId;i=new zE(p,d)}}return i}function b2(r,t){let i;if(t instanceof Hl)i={update:kv(r,t.key,t.value)};else if(t instanceof LE)i={delete:lm(r,t.key)};else if(t instanceof ir)i={update:kv(r,t.key,t.data),updateMask:M2(t.fieldMask)};else{if(!(t instanceof u2))return pt(16599,{Vt:t.type});i={verify:lm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $a)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:T2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function w2(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(vt.min())&&(d=wi(c)),new a2(d,l.transformResults||[])})(i,t)))):[]}function R2(r,t){return{documents:[HE(r,t.path)]}}function I2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=HE(r,l);const c=(function(y){if(y.length!==0)return QE(Ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:za(M.field),direction:D2(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function C2(r){let t=A2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const M=FE(w);return M instanceof Ni&&TE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(J){return new Jc(ja(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,ch(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,G=w.values||[];return new Zc(G,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,G=w.values||[];return new Zc(G,M)})(i.endAt)),FR(t,l,d,c,p,"F",_,y)}function N2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function FE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>FE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function D2(r){return y2[r]}function O2(r){return _2[r]}function x2(r){return v2[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Fe.fromServerFormat(r.fieldPath)}function QE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(Sv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(Av(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Sv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(Av(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:O2(i.op),value:i.value}}})(r):r instanceof Ni?(function(i){const a=i.getFilters().map((l=>QE(l)));return a.length===1?a[0]:{compositeFilter:{op:x2(i.op),filters:a}}})(r):pt(54877,{filter:r})}function M2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function YE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Hs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class V2{constructor(t){this.yt=t}}function U2(r){const t=C2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}class k2{constructor(){this.Cn=new L2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Zs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Zs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class L2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new xe(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new xe(oe.comparator)).toArray()}}const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(KE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}const Pv="LruGarbageCollector",P2=1048576;function zv([r,t],[i,a]){const l=xt(r,i);return l===0?xt(t,a):l}class z2{constructor(t){this.Ir=t,this.buffer=new xe(zv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();zv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class j2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Pv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Pv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class B2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(uh.ce);const a=new z2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Lv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),La()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function q2(r,t){return new B2(r,t)}class H2{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class G2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class F2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,Tn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=is();const d=wl(),p=(function(){return wl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof ir)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Rl(A.mutation,y,A.mutation.getFieldMask(),ie.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new G2(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new le(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||Tn.empty();A=p.applyToLocalView(y,A),a.set(_,A);const w=(l.get(p.batchId)||Mt()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,w=NE();A.forEach((M=>{if(!c.has(M)){const G=UE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):QR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(zr());let p=Nl,_=c;return d.next((y=>X.forEach(y,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Mt()))).next((A=>({batchId:p,changes:CE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(w,M){return new fh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=_l();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Rl(A.mutation,y,Tn.empty(),ie.now()),gh(i,y)&&(p=p.insert(_,y))})),p}))}}class Q2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:U2(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}class Y2{constructor(){this.overlays=new le(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=zr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=zr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new h2(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class K2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Bm{constructor(){this.Qr=new xe(Le.$r),this.Ur=new xe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new oe([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new oe([])),a=new Le(i,t),l=new Le(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||xt(t.Yr,i.Yr)}static Kr(t,i){return xt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class X2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new c2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new xe(xt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new dt(c),0);let p=new xe(xt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Z2{constructor(t){this.ri=t,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=is();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=is();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||SR(AR(A),a)<=0||(l.has(A.key)||gh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new J2(this)}getSize(t){return X.resolve(this.size)}}class J2 extends H2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class $2{constructor(t){this.persistence=t,this.si=new Fr((i=>Um(i)),km),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class XE{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new K2,this.referenceDelegate=t(this),this.Pi=new $2(this),this.indexManager=new k2,this.remoteDocumentCache=(function(l){return new Z2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new V2(i),this.Ii=new Q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Y2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new X2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new W2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class W2 extends wR{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Vi=null}static mi(t){return new qm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Fr((a=>CR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=q2(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,a,l)}}class tI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class eI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BA()?8:RR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new tI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(La()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(La()<=Ot.DEBUG&&rt("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(La()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}ys(t,i){if(Iv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Iv(i)||l.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(La()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,TR(l,Nl)).next((p=>p)))}))}Ds(t,i){let a=new xe(RE(t));return i.forEach(((l,c)=>{gh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return La()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Zs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",nI=3e8;class iI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(xt),this.xs=new Fr((c=>Um(c)),km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function sI(r,t,i,a){return new iI(r,t,i,a)}async function ZE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Mt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function rI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const w=y.batch,M=w.keys();let G=X.resolve();return M.forEach((J=>{G=G.next((()=>A.getEntry(_,J))).next((it=>{const $=y.docVersions.get(J);Ft($!==null,48541),it.version.compareTo($)<0&&(w.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),A.addEntry(it)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function JE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function aI(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,w)=>{const M=l.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(w,G),(function(it,$,ft){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=nI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let _=is(),y=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(oI(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function oI(r,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=is();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(Gm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function lI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function uI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Hs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function cm(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;rt(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function jv(r,t,i){const a=At(r);let l=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const w=At(_),M=w.xs.get(A);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,A)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Mt()))).next((p=>(cI(a,KR(t),p),{documents:p,Qs:c})))))}function cI(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Bv{constructor(){this.activeTargetIds=t2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hI{constructor(){this.Mo=new Bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Bv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fI{Oo(t){}shutdown(){}}const qv="ConnectivityMonitor";class Hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function hm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const Bd="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=hm(),p=this.zo(t,i.toUriEncodedString());rt(Bd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=no(y);return this.Jo(t,p,_,a,A).then((w=>(rt(Bd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Ka(Bd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=dI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class gI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class pI extends mI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=hm();return new Promise(((p,_)=>{const y=new eE;y.setWithCredentials(!0),y.listenOnce(nE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const w=y.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Mc.TIMEOUT:rt(Ke,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const M=y.getStatus();if(rt(Ke,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const it=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Et)>=0?Et:Z.UNKNOWN})(J.status);_(new ct(it,J.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ke,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=hm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=rE(),p=sE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let M=!1,G=!1;const J=new gI({Yo:$=>{G?rt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(M||(rt(Ke,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),rt(Ke,`RPC '${t}' stream ${l} sending:`,$),w.send($))},Zo:()=>w.close()}),it=($,ft,Et)=>{$.listen(ft,(gt=>{try{Et(gt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return it(w,yl.EventType.OPEN,(()=>{G||(rt(Ke,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(w,yl.EventType.CLOSE,(()=>{G||(G=!0,rt(Ke,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(w))})),it(w,yl.EventType.ERROR,($=>{G||(G=!0,Ka(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),it(w,yl.EventType.MESSAGE,($=>{if(!G){const ft=$.data[0];Ft(!!ft,16349);const Et=ft,gt=Et?.error||Et[0]?.error;if(gt){rt(Ke,`RPC '${t}' stream ${l} received error:`,gt);const Bt=gt.status;let Xt=(function(b){const R=we[b];if(R!==void 0)return PE(R)})(Bt),Vt=gt.message;Xt===void 0&&(Xt=Z.INTERNAL,Vt="Unknown error status: "+Bt+" with message "+gt.message),G=!0,J.a_(new ct(Xt,Vt)),w.close()}else rt(Ke,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}})),it(p,iE.STAT_EVENT,($=>{$.stat===Wd.PROXY?rt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Wd.NOPROXY&&rt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function vh(r){return new E2(r,!0)}class $E{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Gv="PersistentStream";class WE{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $E(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends WE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=S2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?wi(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=sm(_)?{documents:R2(c,_)}:{query:I2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=BE(c,d.resumeToken);const y=am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=th(c,d.snapshotVersion.toTimestamp());const y=am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=N2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.q_(i)}}class _I extends WE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=w2(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>b2(this.serializer,a)))};this.q_(i)}}class vI{}class EI extends vI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,om(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class AI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(rt(Gr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Fl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Eh(y)})(this))}))})),this.Ra=new TI(a,l)}}async function Eh(r){if(Qr(r))for(const t of r.da)await t(!0)}async function Fl(r){for(const t of r.da)await t(!1)}function tT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Ym(i):lo(i).O_()&&Qm(i,t))}function Fm(r,t){const i=At(r),a=lo(i);i.Ia.delete(t),a.O_()&&eT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Ra.set("Unknown"))}function Qm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).Y_(t)}function eT(r,t){r.Va.Ue(t),lo(r).Z_(t)}function Ym(r){r.Va=new p2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function Km(r){return Qr(r)&&!lo(r).x_()&&r.Ia.size>0}function Qr(r){return At(r).Ea.size===0}function nT(r){r.Va=void 0}async function SI(r){r.Ra.set("Online")}async function bI(r){r.Ia.forEach(((t,i)=>{Qm(r,t)}))}async function wI(r,t){nT(r),Km(r)?(r.Ra.ha(t),Ym(r)):r.Ra.set("Unknown")}async function RI(r,t,i){if(r.Ra.set("Online"),t instanceof jE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(r,a)}else if(t instanceof Lc?r.Va.Ze(t):t instanceof zE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await JE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),eT(c,_);const w=new Hs(A.target,_,y,A.sequenceNumber);Qm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Gr,"Failed to raise snapshot:",a),await nh(r,a)}}async function nh(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Fl(r),r.Ra.set("Offline"),i||(i=()=>JE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)}))}function iT(r,t){return t().catch((i=>nh(r,i,t)))}async function Th(r){const t=At(r),i=tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;II(t);)try{const l=await lI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,CI(t,l)}catch(l){await nh(t,l)}sT(t)&&rT(t)}function II(r){return Qr(r)&&r.Ta.length<10}function CI(r,t){r.Ta.push(t);const i=tr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function sT(r){return Qr(r)&&!tr(r).x_()&&r.Ta.length>0}function rT(r){tr(r).start()}async function NI(r){tr(r).ra()}async function DI(r){const t=tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function OI(r,t,i){const a=r.Ta.shift(),l=Pm.from(a,t,i);await iT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Th(r)}async function xI(r,t){t&&tr(r).X_&&await(async function(a,l){if((function(d){return d2(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();tr(a).B_(),await iT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(a)}})(r,t),sT(r)&&rT(r)}async function Fv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Gr,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await Fl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function MI(r,t){const i=At(r);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Fl(i),i.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new yI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:SI.bind(null,r),t_:bI.bind(null,r),r_:wI.bind(null,r),H_:RI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Km(r)?Ym(r):r.Ra.set("Unknown")):(await r.ma.stop(),nT(r))}))),r.ma}function tr(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new _I(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:NI.bind(null,r),r_:xI.bind(null,r),ta:DI.bind(null,r),na:OI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Xm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(r,t){if(ns("AsyncQueue",`${t}: ${r}`),oo(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Qv{constructor(){this.ga=new le(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Fa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class VI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class UI{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Yv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function Yv(){return new Fr((r=>wE(r)),mh)}async function aT(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new VI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Zm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Jm(i)}async function oT(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function kI(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Jm(i)}function LI(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Jm(r){r.Ca.forEach((t=>{t.next()}))}var fm,Kv;(Kv=fm||(fm={})).Ma="default",Kv.Cache="cache";class lT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class uT{constructor(t){this.key=t}}class cT{constructor(t){this.key=t}}class PI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=RE(t),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const M=l.get(A),G=gh(this.query,w)?w:null,J=!!M&&this.mutatedKeys.has(M.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;M&&G?M.data.isEqual(G.data)?J!==it&&(a.track({type:3,doc:G}),$=!0):this.su(M,G)||(a.track({type:2,doc:G}),$=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),$=!0):M&&!G&&(a.track({type:1,doc:M}),$=!0,(_||y)&&(p=!0)),$&&(G?(d=d.add(G),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(G,J){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:$})}};return it(G)-it(J)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new cT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new uT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $m="SyncEngine";class zI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class jI{constructor(t){this.key=t,this.hu=!1}}class BI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((p=>wE(p)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new le(dt.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qI(r,t,i=!0){const a=pT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await hT(a,t,i,!0),l}async function HI(r,t){const i=pT(r);await hT(i,t,!0,!1)}async function hT(r,t,i,a){const l=await uI(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await GI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&tT(r.remoteStore,l),p}async function GI(r,t,i,a,l){r.pu=(w,M,G)=>(async function(it,$,ft,Et){let gt=$.view.ru(ft);gt.Cs&&(gt=await jv(it.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,gt))));const Bt=Et&&Et.targetChanges.get($.targetId),Xt=Et&&Et.targetMismatches.get($.targetId)!=null,Vt=$.view.applyChanges(gt,it.isPrimaryClient,Bt,Xt);return Zv(it,$.targetId,Vt.au),Vt.snapshot})(r,w,M,G);const c=await jv(r.localStore,t,!0),d=new PI(t,c.Qs),p=d.ru(c.documents),_=Gl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);Zv(r,i,y.au);const A=new zI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function FI(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Fm(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(ao)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function QI(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function YI(r,t,i){const a=tC(r);try{const l=await(function(d,p){const _=At(d),y=ie.now(),A=p.reduce(((G,J)=>G.add(J.key)),Mt());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=is(),it=Mt();return _.Ns.getEntries(G,A).next(($=>{J=$,J.forEach(((ft,Et)=>{Et.isValidDocument()||(it=it.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,J))).next(($=>{w=$;const ft=[];for(const Et of p){const gt=l2(Et,w.get(Et.key).overlayedDocument);gt!=null&&ft.push(new ir(Et.key,gt,_E(gt.value.mapValue),bi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,ft,p)})).next(($=>{M=$;const ft=$.applyToLocalDocumentSet(w,it);return _.documentOverlayCache.saveOverlays(G,$.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:CE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Ql(a,l.changes),await Th(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function fT(r,t){const i=At(r);try{const a=await aI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Ql(i,a,t)}catch(a){await ao(a)}}function Xv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,w)=>{for(const M of w.Sa)M.va(p)&&(y=!0)})),y&&Jm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function KI(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(dt.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=Mt().add(c),_=new _h(vt.min(),new Map,new le(xt),d,p);await fT(a,_),a.du=a.du.remove(c),a.Au.delete(t),Wm(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(ao)}async function XI(r,t){const i=At(r),a=t.batch.batchId;try{const l=await rI(i.localStore,t);mT(i,a,null),dT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ql(i,l)}catch(l){await ao(l)}}async function ZI(r,t,i){const a=At(r);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Ft(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);mT(a,t,i),dT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ql(a,l)}catch(l){await ao(l)}}function dT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function mT(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function dm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||gT(r,a)}))}function gT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Fm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Wm(r))}function Zv(r,t,i){for(const a of i)a instanceof uT?(r.Ru.addReference(a.key,t),JI(r,a)):a instanceof cT?(rt($m,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||gT(r,a.key)):pt(19791,{wu:a})}function JI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt($m,"New document in limbo: "+i),r.Eu.add(a),Wm(r))}function Wm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(oe.fromString(t)),a=r.fu.next();r.Au.set(a,new jI(i)),r.du=r.du.insert(i,a),tT(r.remoteStore,new Hs(Si(dh(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Ql(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Hm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>X.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!oo(w))throw w;rt(Gm,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const G=A.Ms.get(M),J=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(M,it)}}})(a.localStore,c))}async function $I(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt($m,"User change. New user:",t.toKey());const a=await ZE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ql(i,a.Ls)}}function WI(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function pT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KI.bind(null,t),t.Pu.H_=kI.bind(null,t.eventManager),t.Pu.yu=LI.bind(null,t.eventManager),t}function tC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZI.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return sI(this.persistence,new eI,t.initialUser,this.serializer)}Cu(t){return new XE(qm.mi,this.serializer)}Du(t){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class eC extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new j2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new XE((a=>eh.mi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$I.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new UI})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=(function(c){return new pI(c)})(t.databaseInfo);return(function(c,d,p,_){return new EI(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new AI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Xv(this.syncEngine,i,0)),(function(){return Hv.v()?new Hv:new fI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const w=new BI(l,c,d,p,_,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(Gr,"RemoteStore shutting down."),a.Ea.add(5),await Fl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class yT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const er="FirestoreClient";class nC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ZE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Jv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await iC(r);rt(er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Fv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Fv(t.remoteStore,l))),r._onlineComponents=t}async function iC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(er,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new ih)}}else rt(er,"Using default OfflineComponentProvider"),await Hd(r,new eC(void 0));return r._offlineComponents}async function _T(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(er,"Using user provided OnlineComponentProvider"),await Jv(r,r._uninitializedComponentsProvider._online)):(rt(er,"Using default OnlineComponentProvider"),await Jv(r,new mm))),r._onlineComponents}function sC(r){return _T(r).then((t=>t.syncEngine))}async function gm(r){const t=await _T(r),i=t.eventManager;return i.onListen=qI.bind(null,t.syncEngine),i.onUnlisten=FI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=HI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=QI.bind(null,t.syncEngine),i}function rC(r,t,i={}){const a=new Ks;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new yT({next:M=>{A.Nu(),d.enqueueAndForget((()=>oT(c,w)));const G=M.docs.has(p);!G&&M.fromCache?y.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&_&&_.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new lT(dh(p.path),A,{includeMetadataChanges:!0,qa:!0});return aT(c,w)})(await gm(r),r.asyncQueue,t,i,a))),a.promise}function vT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const $v=new Map;const ET="firestore.googleapis.com",Wv=!0;class t0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=Wv}else this.host=t.host,this.ssl=t.ssl??Wv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<P2)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ER("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uR;switch(a.type){case"firstParty":return new dR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=$v.get(i);a&&(rt("ComponentProvider","Removing Datastore"),$v.delete(i),a.terminate())})(this),Promise.resolve()}}function aC(r,t,i,a={}){r=Ai(r,tg);const l=no(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(g0(`https://${p}`),p0("Firestore",!0)),c.host!==ET&&c.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Xs(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=xA(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(w)}r._authCredentials=new cR(new oE(y,A))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(ql(i,Ie._jsonSchema))return new Ie(t,a||null,new dt(oe.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Re("string",Ie._jsonSchemaVersion),referencePath:Re("string")};class Vl extends Ah{constructor(t,i,a){super(t,i,dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new dt(t))}withConverter(t){return new Vl(this.firestore,t,this._path)}}function Ur(r,t,...i){if(r=en(r),arguments.length===1&&(t=Dm.newId()),vR("doc","path",t),r instanceof tg){const a=oe.fromString(t,...i);return mv(a),new Ie(r,null,new dt(a))}{if(!(r instanceof Ie||r instanceof Vl))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return mv(a),new Ie(r.firestore,r instanceof Vl?r.converter:null,new dt(a))}}const e0="AsyncQueue";class n0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $E(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&rt(e0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt(e0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",i0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:i0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function i0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function s0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class eo extends tg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new n0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new n0(t),this._firestoreClient=void 0,await t}}}function oC(r,t){const i=typeof r=="object"?r:E0(),a=typeof r=="string"?r:Kc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=DA("firestore");c&&aC(l,...c)}return l}function eg(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lC(r),r._firestoreClient}function lC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new OR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,vT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new nC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Re("string",Ln._jsonSchemaVersion),bytes:Re("string")};class Sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bh{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(ql(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Re("string",Ri._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Re("string",Ii._jsonSchemaVersion),vectorValues:Re("object")};const uC=/^__.*__$/;class cC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}class TT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function AT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class wh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AT(this.Ac)&&uC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class hC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}Cc(t,i,a,l=!1){return new wh({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ST(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new hC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function fC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ig("Data must be an object, but it was:",d,a);const p=bT(a,d);let _,y;if(c.merge)_=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const M=pm(t,w,i);if(!d.contains(M))throw new ct(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);RT(A,M)||A.push(M)}_=new Tn(A),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new cC(new hn(p),_,y)}class Rh extends bh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function dC(r,t,i){return new wh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ng extends bh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=dC(this,t,!0),a=this.vc.map((c=>Yl(c,i))),l=new $a(a);return new s2(t.path,l)}isEqual(t){return t instanceof ng&&Xs(this.vc,t.vc)}}function mC(r,t,i,a){const l=r.Cc(1,t,i);ig("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();nr(a,((_,y)=>{const A=sg(t,_,i);y=en(y);const w=l.yc(A);if(y instanceof Rh)c.push(A);else{const M=Yl(y,w);M!=null&&(c.push(A),d.set(A,M))}}));const p=new Tn(c);return new TT(d,p,l.fieldTransforms)}function gC(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[pm(t,a,i)],_=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(pm(t,c[M])),_.push(c[M+1]);const y=[],A=hn.empty();for(let M=p.length-1;M>=0;--M)if(!RT(y,p[M])){const G=p[M];let J=_[M];J=en(J);const it=d.yc(G);if(J instanceof Rh)y.push(G);else{const $=Yl(J,it);$!=null&&(y.push(G),A.set(G,$))}}const w=new Tn(y);return new TT(A,w,d.fieldTransforms)}function Yl(r,t){if(wT(r=en(r)))return ig("Unsupported field value:",t,r),bT(r,t);if(r instanceof bh)return(function(a,l){if(!AT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Yl(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=en(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return e2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:th(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:BE(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,p){return{mapValue:{fields:{[pE]:{stringValue:yE},[Xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Om(a)}`)})(r,t)}function bT(r,t){const i={};return cE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(r,((a,l)=>{const c=Yl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function wT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ri||r instanceof Ln||r instanceof Ie||r instanceof bh||r instanceof Ii)}function ig(r,t,i){if(!wT(i)||!lE(i)){const a=Om(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function pm(r,t,i){if((t=en(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return sg(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const pC=new RegExp("[~\\*/\\[\\]]");function sg(r,t,i){if(t.search(pC)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Sh(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct(Z.INVALID_ARGUMENT,p+r+_)}function RT(r,t){return r.some((i=>i.isEqual(t)))}class IT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(CT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class yC extends IT{data(){return super.data()}}function CT(r,t){return typeof t=="string"?sg(r,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function _C(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vC{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return nr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=Js(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Ft(YE(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function EC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends IT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(CT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Re("string",jr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Pc extends jr{data(t={}){return super.data(t)}}class Qa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:TC(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function AC(r){r=Ai(r,Ie);const t=Ai(r.firestore,eo);return rC(eg(t),r._key).then((i=>OT(t,r,i)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Re("string",Qa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class NT extends vC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function SC(r,t,i){r=Ai(r,Ie);const a=Ai(r.firestore,eo),l=EC(r.converter,t);return DT(a,[fC(ST(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,bi.none())])}function pl(r,t,i,...a){r=Ai(r,Ie);const l=Ai(r.firestore,eo),c=ST(l);let d;return d=typeof(t=en(t))=="string"||t instanceof Sh?gC(c,"updateDoc",r._key,t,i,a):mC(c,"updateDoc",r._key,t),DT(l,[d.toMutation(r._key,bi.exists(!0))])}function bC(r,...t){r=en(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||s0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(s0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Ie)d=Ai(r.firestore,eo),p=dh(r._key.path),c={next:_=>{t[a]&&t[a](OT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Ai(r,Ah);d=Ai(_.firestore,eo),p=_._query;const y=new NT(d);c={next:A=>{t[a]&&t[a](new Qa(d,y,_,A))},error:t[a+1],complete:t[a+2]},_C(r._query)}return(function(y,A,w,M){const G=new yT(M),J=new lT(A,G,w);return y.asyncQueue.enqueueAndForget((async()=>aT(await gm(y),J))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>oT(await gm(y),J)))}})(eg(d),p,l,c)}function DT(r,t){return(function(a,l){const c=new Ks;return a.asyncQueue.enqueueAndForget((async()=>YI(await sC(a),l,c))),c.promise})(eg(r),t)}function OT(r,t,i){const a=i.docs.get(t._key),l=new NT(r);return new jr(r,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}function wC(...r){return new ng("arrayUnion",r)}(function(t,i=!0){(function(l){ro=l})(io),Ya(new Br("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new eo(new hR(a.getProvider("auth-internal")),new mR(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qs(cv,hv,t),Qs(cv,hv,"esm2020")})();const RC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),r0=r=>{const t=IC(r);return t.charAt(0).toUpperCase()+t.slice(1)},xT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),CC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var NC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DC=ke.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>ke.createElement("svg",{ref:_,...NC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:xT("lucide",l),...!c&&!CC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>ke.createElement(y,A)),...Array.isArray(c)?c:[c]]));const An=(r,t)=>{const i=ke.forwardRef(({className:a,...l},c)=>ke.createElement(DC,{ref:c,iconNode:t,className:xT(`lucide-${RC(r0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=r0(r),i};const OC=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],xC=An("apple",OC);const MC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],VC=An("arrow-right",MC);const UC=[["path",{d:"M4 13c3.5-2 8-2 10 2a5.5 5.5 0 0 1 8 5",key:"1cscit"}],["path",{d:"M5.15 17.89c5.52-1.52 8.65-6.89 7-12C11.55 4 11.5 2 13 2c3.22 0 5 5.5 5 8 0 6.5-4.2 12-10.49 12C5.11 22 2 22 2 20c0-1.5 1.14-1.55 3.15-2.11Z",key:"1y1nbv"}]],MT=An("banana",UC);const kC=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],a0=An("bot",kC);const LC=[["path",{d:"M2 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"cvxqlc"}],["path",{d:"M12 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"1ostrc"}],["path",{d:"M7 14c3.22-2.91 4.29-8.75 5-12 1.66 2.38 4.94 9 5 12",key:"hqx58h"}],["path",{d:"M22 9c-4.29 0-7.14-2.33-10-7 5.71 0 10 4.67 10 7Z",key:"eykp1o"}]],PC=An("cherry",LC);const zC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jC=An("circle",zC);const BC=[["path",{d:"M21.66 17.67a1.08 1.08 0 0 1-.04 1.6A12 12 0 0 1 4.73 2.38a1.1 1.1 0 0 1 1.61-.04z",key:"4ite01"}],["path",{d:"M19.65 15.66A8 8 0 0 1 8.35 4.34",key:"1gxipu"}],["path",{d:"m14 10-5.5 5.5",key:"92pfem"}],["path",{d:"M14 17.85V10H6.15",key:"xqmtsk"}]],rh=An("citrus",BC);const qC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],VT=An("crown",qC);const HC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],o0=An("info",HC);const GC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l0=An("log-out",GC);const FC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],QC=An("play",FC);const YC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],KC=An("users",YC);const XC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZC=An("x",XC),JC={apiKey:"AIzaSyDf86JHBvY9Y1B1x8QDbJkASmlANouEvX0",authDomain:"card-games-28729.firebaseapp.com",projectId:"card-games-28729",storageBucket:"card-games-28729.firebasestorage.app",messagingSenderId:"466779458834",appId:"1:466779458834:web:4209d2fa804d48d06d37cb"},UT=v0(JC),Gd=oR(UT),kr=oC(UT),Lr=typeof __app_id<"u"?__app_id:"fruit-seller-v2",$C={MANGO:{name:"Mango",color:"bg-amber-400",text:"text-amber-900",icon:jC},APPLE:{name:"Apple",color:"bg-red-500",text:"text-white",icon:xC},ORANGE:{name:"Orange",color:"bg-orange-500",text:"text-white",icon:rh},BANANA:{name:"Banana",color:"bg-yellow-300",text:"text-yellow-900",icon:MT},LEMON:{name:"Lemon",color:"bg-lime-400",text:"text-lime-900",icon:rh},BERRY:{name:"Berry",color:"bg-purple-600",text:"text-white",icon:PC}},WC=["MANGO","APPLE","ORANGE","BANANA","LEMON","BERRY"],tN=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},eN=r=>{const t=WC.slice(0,r);let i=[];return t.forEach(a=>{for(let l=0;l<5;l++)i.push({type:a,id:`${a}-${l}-${Math.random().toString(36).substr(2,5)}`})}),tN(i)},nN=r=>{const t={};r.forEach(c=>{t[c.type]=(t[c.type]||0)+1});let i=null,a=-1;Object.entries(t).forEach(([c,d])=>{d>a&&(a=d,i=c)});let l=r.map((c,d)=>({...c,index:d})).filter(c=>c.type!==i);return l.length===0?0:(l.sort((c,d)=>(t[c.type]||0)-(t[d.type]||0)),l[0].index)},iN=({type:r,onClick:t,isSelected:i,size:a="md"})=>{const l=$C[r];if(!l)return q.jsx("div",{className:"bg-gray-700 w-16 h-24 rounded"});const c=l.icon,d=a==="sm"?"w-12 h-16 text-[10px]":"w-24 h-36 text-sm",p=a==="sm"?16:32;return q.jsxs("div",{onClick:t,className:`
        relative rounded-xl shadow-lg border-2 flex flex-col items-center justify-center transition-all duration-200 cursor-pointer
        ${l.color} ${l.text} ${d}
        ${i?"ring-4 ring-white scale-110 z-10 -translate-y-2 shadow-xl":"border-black/10 hover:-translate-y-1"}
      `,children:[q.jsx("span",{className:"font-bold uppercase tracking-wider mb-1",children:l.name}),q.jsx(c,{size:p,className:"drop-shadow-sm"}),q.jsx("div",{className:"absolute top-1 right-1 opacity-50",children:q.jsx(c,{size:10})}),q.jsx("div",{className:"absolute bottom-1 left-1 opacity-50",children:q.jsx(c,{size:10})})]})},sN=({count:r})=>q.jsxs("div",{className:"w-16 h-24 bg-gradient-to-br from-indigo-600 to-blue-800 rounded-lg border-2 border-indigo-400 shadow-md flex items-center justify-center relative transform rotate-1",children:[q.jsx("div",{className:"absolute inset-2 border border-dashed border-indigo-400/50 rounded"}),q.jsx("span",{className:"text-2xl font-bold text-white drop-shadow-md",children:r})]}),rN=({onClose:r})=>q.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:q.jsxs("div",{className:"bg-white text-gray-900 rounded-2xl w-full max-w-lg p-6 relative shadow-2xl",children:[q.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-black",children:q.jsx(ZC,{size:24})}),q.jsxs("h2",{className:"text-3xl font-black text-orange-600 mb-4 flex items-center gap-2",children:[q.jsx(rh,{})," Fruit Seller"]}),q.jsxs("div",{className:"space-y-4 text-lg",children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Goal:"})," Collect ",q.jsx("strong",{children:"5 cards"})," of the same fruit to win!"]}),q.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-200",children:[q.jsx("h3",{className:"font-bold text-orange-800 mb-2",children:"How to Play:"}),q.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[q.jsxs("li",{children:["Everyone starts with ",q.jsx("strong",{children:"5 cards"}),"."]}),q.jsxs("li",{children:["On your turn, pick ",q.jsx("strong",{children:"ONE card"})," to pass to the player on your left."]}),q.jsxs("li",{children:["If players are missing, ",q.jsx("strong",{children:"Bots"})," will fill the spots!"]}),q.jsx("li",{children:"Bots are smartwatch out!"})]})]})]}),q.jsx("button",{onClick:r,className:"w-full mt-6 bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl shadow-lg transform transition active:scale-95",children:"Got it!"})]})}),aN=({winnerName:r,isMe:t,onRestart:i,isHost:a})=>q.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 animate-in fade-in duration-500",children:q.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full text-center relative overflow-hidden shadow-2xl",children:[q.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-yellow-200/50 to-transparent pointer-events-none"}),q.jsx(VT,{className:"w-24 h-24 mx-auto text-yellow-500 mb-4 animate-bounce"}),q.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-2",children:t?"YOU WON!":`${r} WINS!`}),q.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Collected 5 matching fruits!"}),a?q.jsxs("button",{onClick:i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transform transition hover:scale-105",children:[q.jsx(QC,{fill:"currentColor"})," Play Again"]}):q.jsx("div",{className:"text-gray-400 italic animate-pulse",children:"Waiting for host to restart..."})]})});function oN(){const[r,t]=ke.useState(null),[i,a]=ke.useState("menu"),[l,c]=ke.useState(null),[d,p]=ke.useState(null),[_,y]=ke.useState(""),[A,w]=ke.useState(""),[M,G]=ke.useState(""),[J,it]=ke.useState(null),[$,ft]=ke.useState(!1);ke.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await Yb(Gd,__initial_auth_token):await qb(Gd)})();const S=Zb(Gd,nt=>t(nt));return()=>S()},[]),ke.useEffect(()=>{if(!l||!r)return;const N=Ur(kr,"artifacts",Lr,"public","data","rooms",l),S=bC(N,nt=>{if(nt.exists()){const lt=nt.data();p(lt),lt.status==="playing"||lt.status==="finished"?a("game"):a("lobby")}else c(null),a("menu"),G("Room closed.")});return()=>S()},[l,r]),ke.useEffect(()=>{if(!d||d.status!=="playing"||!r||d.hostId!==r.uid)return;const N=d.players[d.turnIndex];if(N.isBot){const S=setTimeout(()=>{const nt=nN(N.hand);Xt(nt)},1500);return()=>clearTimeout(S)}},[d,r]);const Et=async()=>{if(!_.trim())return G("Please enter your name.");const N=Math.random().toString(36).substring(2,6).toUpperCase();await SC(Ur(kr,"artifacts",Lr,"public","data","rooms",N),{hostId:r.uid,status:"lobby",players:[{id:r.uid,name:_,hand:[],ready:!0,isBot:!1}],maxPlayers:4,turnIndex:0,logs:[]}),c(N)},gt=async()=>{if(!_.trim()||!A.trim())return G("Name and Room Code required.");const N=A.toUpperCase(),S=Ur(kr,"artifacts",Lr,"public","data","rooms",N);try{const nt=await AC(S);if(!nt.exists())return G("Room not found.");const lt=nt.data();if(lt.status!=="lobby")return G("Game already started.");if(lt.players.length>=lt.maxPlayers)return G("Room full.");lt.players.find(W=>W.id===r.uid)||await pl(S,{players:wC({id:r.uid,name:_,hand:[],ready:!0,isBot:!1})}),c(N)}catch(nt){console.error(nt),G("Error joining room.")}},Bt=async()=>{if(!d)return;let N=[...d.players];const S=d.maxPlayers;if(N.length<S){const H=S-N.length;for(let W=0;W<H;W++)N.push({id:`BOT-${Math.random().toString(36).substr(2,9)}`,name:`Bot ${W+1}`,hand:[],ready:!0,isBot:!0})}const nt=N.length,lt=eN(nt);N=N.map(H=>({...H,hand:lt.splice(0,5)})),await pl(Ur(kr,"artifacts",Lr,"public","data","rooms",l),{status:"playing",players:N,turnIndex:0,winnerId:null,logs:[{text:"Game Started!",type:"neutral"}]})},Xt=async N=>{if(!d)return;const S=d.turnIndex,nt=(S+1)%d.players.length,lt=JSON.parse(JSON.stringify(d.players));if(lt[S].hand[N]){const Q=lt[S].hand.splice(N,1)[0];lt[nt].hand.push(Q)}else{const Q=lt[S].hand.pop();Q&&lt[nt].hand.push(Q)}let H=null,W=null;lt.forEach(Q=>{const et={};Q.hand.forEach(st=>{et[st.type]=(et[st.type]||0)+1}),Object.values(et).forEach(st=>{st>=5&&(H=Q.id,W=Q.name)})});const ut={players:lt,selectedCardIndex:null},Ut=lt[S].name,qt=lt[nt].name,x=[...d.logs,{text:`${Ut} passed to ${qt}.`,type:"action"}];H?(ut.status="finished",ut.winnerId=H,x.push({text:`${W} WINS!`,type:"win"})):ut.turnIndex=nt,ut.logs=x.slice(-5),await pl(Ur(kr,"artifacts",Lr,"public","data","rooms",l),ut),it(null)},Vt=()=>{J!==null&&Xt(J)},C=async()=>{if(!(!l||!r)){try{const N=d.players.filter(S=>S.id!==r.uid);N.length===0||await pl(Ur(kr,"artifacts",Lr,"public","data","rooms",l),{players:N})}catch(N){console.error(N)}c(null),a("menu")}},b=d?.players.findIndex(N=>N.id===r?.uid),R=b>=0?d.players[b]:null,V=d?.turnIndex===b,O=()=>{if(!d||b===-1)return[];const N=d.players.length,S=[];for(let nt=1;nt<N;nt++){const lt=(b+nt)%N;S.push({...d.players[lt],realIndex:lt})}return S};if(!r)return q.jsx("div",{className:"min-h-screen bg-orange-50 flex items-center justify-center font-bold text-orange-800",children:"Loading Fruit Market..."});if(i==="menu")return q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 to-yellow-200 p-4 flex flex-col items-center justify-center font-sans",children:[$&&q.jsx(rN,{onClose:()=>ft(!1)}),q.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-orange-200",children:[q.jsxs("div",{className:"bg-orange-500 p-8 text-center relative overflow-hidden",children:[q.jsx("div",{className:"absolute -top-10 -left-10 text-orange-400 opacity-20",children:q.jsx(rh,{size:120})}),q.jsx("div",{className:"absolute top-10 -right-10 text-yellow-300 opacity-20",children:q.jsx(MT,{size:120})}),q.jsx("h1",{className:"text-4xl font-black text-white tracking-tight relative z-10 drop-shadow-md",children:"FRUIT SELLER"}),q.jsx("p",{className:"text-orange-100 font-medium relative z-10 mt-2",children:"The juicy trading card game"})]}),q.jsxs("div",{className:"p-8 space-y-6",children:[M&&q.jsx("div",{className:"bg-red-100 text-red-600 p-3 rounded-lg text-sm text-center font-bold",children:M}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-gray-500 text-xs font-bold uppercase mb-2 ml-1",children:"Your Nickname"}),q.jsx("input",{type:"text",placeholder:"e.g. Juicy Joe",className:"w-full bg-gray-50 border-2 border-gray-200 rounded-xl p-4 text-gray-800 font-bold focus:outline-none focus:border-orange-400 transition",value:_,onChange:N=>y(N.target.value)})]}),q.jsxs("div",{className:"flex flex-col gap-3",children:[q.jsx("button",{onClick:Et,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-orange-500/30 transition transform hover:-translate-y-1",children:"Create New Market"}),q.jsxs("div",{className:"relative",children:[q.jsx("div",{className:"absolute inset-0 flex items-center",children:q.jsx("div",{className:"w-full border-t border-gray-200"})}),q.jsx("div",{className:"relative flex justify-center text-sm",children:q.jsx("span",{className:"px-2 bg-white text-gray-400 font-bold",children:"OR"})})]}),q.jsxs("div",{className:"flex gap-2",children:[q.jsx("input",{type:"text",placeholder:"ROOM CODE",className:"flex-1 bg-gray-50 border-2 border-gray-200 rounded-xl p-4 text-gray-800 font-bold uppercase focus:outline-none focus:border-blue-400 transition",value:A,onChange:N=>w(N.target.value)}),q.jsx("button",{onClick:gt,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold px-6 rounded-xl shadow-lg shadow-blue-500/30 transition transform hover:-translate-y-1",children:"Join"})]})]}),q.jsxs("button",{onClick:()=>ft(!0),className:"w-full text-gray-400 hover:text-gray-600 text-sm font-bold flex items-center justify-center gap-1",children:[q.jsx(o0,{size:16})," How to Play"]})]})]})]});if(i==="lobby"&&d){const N=d.hostId===r.uid,S=d.maxPlayers-d.players.length;return q.jsx("div",{className:"min-h-screen bg-orange-50 p-6 flex flex-col items-center",children:q.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-xl overflow-hidden border border-orange-100 flex-1 flex flex-col",children:[q.jsxs("div",{className:"bg-orange-600 p-6 flex justify-between items-center text-white",children:[q.jsxs("div",{children:[q.jsx("h2",{className:"text-2xl font-black",children:"Lobby"}),q.jsxs("p",{className:"text-orange-200 text-sm font-mono tracking-widest",children:["CODE: ",l]})]}),q.jsx("button",{onClick:C,className:"p-2 bg-orange-700/50 rounded-lg hover:bg-orange-700 transition",children:q.jsx(l0,{size:20})})]}),q.jsxs("div",{className:"p-6 flex-1",children:[q.jsxs("div",{className:"flex justify-between items-center mb-4",children:[q.jsxs("h3",{className:"font-bold text-gray-600 flex items-center gap-2",children:[q.jsx(KC,{size:20})," Players (",d.players.length,"/",d.maxPlayers,")"]}),N&&q.jsxs("div",{className:"flex items-center gap-4",children:[q.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Max Players:"}),q.jsxs("select",{className:"bg-gray-100 border rounded p-1 font-bold text-gray-700",value:d.maxPlayers,onChange:nt=>pl(Ur(kr,"artifacts",Lr,"public","data","rooms",l),{maxPlayers:parseInt(nt.target.value)}),children:[q.jsx("option",{value:4,children:"4"}),q.jsx("option",{value:5,children:"5"}),q.jsx("option",{value:6,children:"6"})]})]})]}),q.jsxs("div",{className:"space-y-3 mb-8",children:[d.players.map(nt=>q.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-red-500 rounded-full flex items-center justify-center text-white font-bold",children:nt.name[0].toUpperCase()}),q.jsxs("span",{className:"font-bold text-gray-800",children:[nt.name," ",nt.id===r.uid&&"(You)"]})]}),nt.id===d.hostId&&q.jsx(VT,{size:20,className:"text-yellow-500"})]},nt.id)),Array(S).fill(0).map((nt,lt)=>q.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-200 rounded-xl flex items-center justify-start gap-3 text-gray-400",children:[q.jsx(a0,{size:20}),q.jsxs("span",{className:"font-bold",children:["Bot ",lt+1," will join automatically..."]})]},lt))]}),N?q.jsxs("button",{onClick:Bt,className:"w-full py-4 rounded-xl font-black text-xl shadow-lg transition transform bg-green-500 hover:bg-green-600 text-white hover:scale-105",children:["START GAME ",S>0&&"(+ Bots)"]}):q.jsx("div",{className:"text-center text-gray-400 font-bold animate-pulse",children:"Waiting for host to start..."})]})]})})}if(i==="game"&&R){const N=O(),S=R.hand.map((nt,lt)=>({...nt,originalIndex:lt})).sort((nt,lt)=>nt.type.localeCompare(lt.type));return q.jsxs("div",{className:"min-h-screen bg-green-900/90 relative flex flex-col overflow-hidden select-none",children:[q.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#ffffff 2px, transparent 2px)",backgroundSize:"30px 30px"}}),d.winnerId&&q.jsx(aN,{winnerName:d.players.find(nt=>nt.id===d.winnerId)?.name,isMe:d.winnerId===r.uid,isHost:d.hostId===r.uid,onRestart:Bt}),q.jsxs("div",{className:"relative z-10 bg-black/20 p-2 flex justify-between items-center text-white backdrop-blur-md",children:[q.jsxs("div",{className:"font-bold flex items-center gap-2",children:[q.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),"Room: ",l]}),q.jsxs("div",{className:"flex gap-4",children:[q.jsx("button",{onClick:()=>ft(!0),children:q.jsx(o0,{size:20,className:"hover:text-orange-300"})}),q.jsx("button",{onClick:C,children:q.jsx(l0,{size:20,className:"hover:text-red-300"})})]})]}),q.jsxs("div",{className:"flex-1 relative p-4 flex flex-col justify-between",children:[q.jsx("div",{className:"flex justify-center gap-4 md:gap-8 flex-wrap",children:N.map(nt=>{const lt=d.turnIndex===nt.realIndex;return q.jsxs("div",{className:`relative flex flex-col items-center transition-all duration-300 ${lt?"scale-110":"opacity-80 scale-90"}`,children:[lt&&q.jsx("div",{className:"absolute -top-8 animate-bounce text-yellow-400 font-bold text-sm tracking-widest uppercase",children:nt.isBot?"Computing...":"Thinking..."}),q.jsxs("div",{className:`
                                w-20 h-20 rounded-full border-4 flex items-center justify-center bg-gray-800 shadow-lg relative
                                ${lt?"border-yellow-400 shadow-yellow-500/50":"border-gray-600"}
                            `,children:[nt.isBot?q.jsx(a0,{className:"text-white",size:32}):q.jsx("span",{className:"text-2xl text-white font-bold",children:nt.name[0]}),q.jsx("div",{className:"absolute -bottom-2 bg-gray-900 px-2 py-0.5 rounded text-[10px] text-white font-bold truncate max-w-full",children:nt.name})]}),q.jsx("div",{className:"mt-2 relative",children:q.jsx(sN,{count:nt.hand.length})})]},nt.id)})}),q.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-sm pointer-events-none text-center",children:[d.logs&&d.logs.length>0&&q.jsx("div",{className:"mb-4 space-y-1",children:d.logs.slice(-1).map((nt,lt)=>q.jsx("div",{className:"inline-block bg-black/60 text-white px-4 py-2 rounded-full text-sm font-bold backdrop-blur-sm animate-in zoom-in slide-in-from-bottom-2 fade-in",children:nt.text},lt))}),V&&!d.winnerId&&q.jsxs("div",{className:"animate-pulse",children:[q.jsx("div",{className:"text-3xl font-black text-white drop-shadow-lg stroke-black",children:"YOUR TURN"}),q.jsx("div",{className:"text-yellow-300 font-bold text-lg",children:"Pick a card to pass!"})]})]}),q.jsxs("div",{className:"relative z-20 mt-auto",children:[q.jsx("div",{className:"flex justify-center mb-4 min-h-[60px]",children:V&&J!==null&&q.jsxs("button",{onClick:Vt,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-8 py-3 rounded-full font-black text-lg shadow-xl hover:scale-105 active:scale-95 transition flex items-center gap-2 border-2 border-white/20",children:["Pass Card ",q.jsx(VC,{})]})}),q.jsx("div",{className:"flex justify-center items-end -space-x-4 pb-4",children:S.map((nt,lt)=>q.jsx("div",{style:{zIndex:V&&J===nt.originalIndex?50:lt,transform:`rotate(${(lt-(R.hand.length-1)/2)*5}deg) translateY(${V&&J===nt.originalIndex?"-20px":"0px"})`},className:"transition-all duration-300 hover:-translate-y-4",children:q.jsx(iN,{type:nt.type,isSelected:V&&J===nt.originalIndex,onClick:()=>V&&it(nt.originalIndex)})},nt.id))}),q.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/40 backdrop-blur rounded-lg px-4 py-2 text-white border border-white/10",children:[q.jsx("div",{className:"text-xs text-gray-300 uppercase font-bold",children:"You"}),q.jsxs("div",{className:"font-bold flex items-center gap-2",children:[R.name,R.hand.length>5&&q.jsx("span",{className:"text-xs bg-red-500 px-1 rounded animate-pulse",children:"OVERFLOW"})]})]})]})]})]})}return null}TA.createRoot(document.getElementById("root")).render(q.jsx(ke.StrictMode,{children:q.jsx(oN,{})}));
